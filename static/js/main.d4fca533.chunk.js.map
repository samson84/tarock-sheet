{"version":3,"sources":["lib/bid.ts","lib/player.ts","lib/util.ts","lib/game.ts","components/ContractSelector.tsx","lib/contract.ts","components/ContractsTable.tsx","components/VariantSelector.tsx","components/SilentSwitch.tsx","components/GameProperties.tsx","components/GameScore.tsx","components/Players.tsx","lib/gameList.ts","components/ScoreSheet.tsx","components/TarockSheet.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["BID_TYPE","SMALLEST_VARIANT","CARD_SHAPE_VARIANT","BID_GROUPS","PARTY_LIKE","weight","ULTI_LIKE","CENTRUM_LIKE","CATCHES","OTHERS","PLAYER_TYPE","SMALLEST_VARIANTS","PAGAT","EAGLE","CARD_SHAPE_VARIANTS","CLUB","DIAMOND","HEART","SPADE","BIDS","PARTY","score","party","group","TRULL","silent","FOUR_KING","CATCH_THE_MAYOR","CATCH_THE_PAGAT","ULTI","variants","UHU","DOUBLE_PARTY","VOLAT","PHEASANT","PHEASANT_IN_2ND","EIGHT_TAROCK","NINE_TAROCK","FURRY","CENTRUM","SMALL_BIRD","LARGE_BIRD","KING_ULTI","KING_UHU","CSUZIMA","KLOPICZKY","getBid","type","canSilent","bid","getBidScore","partyScore","makeFirstLetterCapital","word","length","split","first","rest","toUpperCase","join","toLowerCase","upperCaseToWords","upperCased","map","PARTY_SCORE_TYPE","getAnotherPlayerType","playerType","DECLARER","OPPONENT","getPlayerTypeColor","Map","get","ContractSelector","bidsByGroup","onAddContract","Grid","container","spacing","sortBy","g","Object","keys","item","variant","display","color","Box","component","mr","Button","onClick","bidType","taker","bidVariant","size","validateContract","contract","contra","Error","includes","Math","log2","createContract","winByTaker","bidBaseScore","flow","calculateContract","ACTION_TYPE","PARTY_SCORE","TOOK_THREE","TOOK_TWO","TOOK_ONE","SOLO","createGame","props","contracts","declarers","opponents","partyScoreType","called_tarock","scores","updateGameWithScores","game","calculateGame","updateGame","updates","undefined","addContract","updatedContract","removeAllContract","reduce","addScore","prevScore","another","VariantSelector","selected","onChange","render","onClose","useState","open","setOpen","handleClose","Dialog","DialogContent","RadioGroup","name","event","target","value","FormControlLabel","control","Radio","label","DialogActions","SilentSwitch","FormGroup","Switch","checked","VariantSelectorModal","handleOpen","columns","field","headerName","valueGetter","onAction","CHANGE","newTaker","handleClick","IconButton","title","disabled","Checkbox","indeterminate","nextValue","_","DELETE","isContractField","ContractsTable","onDelete","handleAction","index","actionType","TableContainer","Table","TableHead","TableRow","column","TableCell","TableBody","rowIndex","cellIndex","curry","calledTarockOptions","XX","XIX","XVIII","XVII","XVI","XV","XIV","XIII","XII","partyScoreOptions","GameProperties","alignContent","FormControl","InputLabel","id","Select","labelId","option","MenuItem","FormLabel","row","GameScore","direction","alignItems","Chip","PlayerItem","player","onRemove","rotatePlayerTypeWithNull","AddPlayerDialog","onAdd","setPlayer","DialogTitle","onSubmit","preventDefault","TextField","autoFocus","margin","Players","players","onPlayerAdd","onPlayerChange","onPlayerRemove","playerList","createPlayerList","getPlayersScores","p","fromPairs","defined","scoreAssigner","value1","value2","addBaseScore","baseScore","sumPlayersScore","mapValues","baseScoreAdder","ScoreSheet","gameScoreList","gameScorePerPlayer","forEach","add","Set","values","getAllPlayers","sum","assignWith","sumPlayerScores","allBidsByGroup","bids","b","groupBy","getAllBidsByGorup","TarockSheet","setGame","setPlayers","setGameScoreList","prop","updated","addContractFlipped","prev","uniq","filter","removePlayer","key","otherKey","addPlayer","i","updateGameContract","removeContract","useAppStyle","makeStyles","theme","padding","App","classes","AppBar","position","Container","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"iIAcYA,E,kKAAAA,K,cAAAA,E,cAAAA,E,sBAAAA,E,kCAAAA,E,kCAAAA,E,YAAAA,E,UAAAA,E,4BAAAA,E,cAAAA,E,oBAAAA,E,kCAAAA,E,4BAAAA,E,0BAAAA,E,cAAAA,E,kBAAAA,E,wBAAAA,E,wBAAAA,E,kBAAAA,E,sBAAAA,E,oBAAAA,E,uBAAAA,M,KA8BZ,IAUYC,EAKAC,EAfNC,EAA0D,CAC9DC,WAAY,CAAEC,OAAQ,IACtBC,UAAW,CAAED,OAAQ,IACrBE,aAAc,CAAEF,OAAQ,IACxBG,QAAS,CAAEH,OAAQ,IACnBI,OAAQ,CAAEJ,OAAQ,M,SAKRJ,K,cAAAA,E,eAAAA,M,cAKAC,K,cAAAA,E,cAAAA,E,YAAAA,E,mBAAAA,M,KAOZ,IClEYQ,EDkENC,EAAoB,CAACV,EAAiBW,MAAOX,EAAiBY,OAC9DC,EAAsB,CAC1BZ,EAAmBa,KACnBb,EAAmBc,QACnBd,EAAmBe,MACnBf,EAAmBgB,OAKfC,GAAoC,mBACvCnB,EAASoB,MAAQ,CAAEC,MAAO,SAACC,GAAD,OAAmBA,GAAOC,MAAO,eADpB,cAEvCvB,EAASwB,MAAQ,CAAEH,MAAO,EAAGI,QAAQ,IAFE,cAGvCzB,EAAS0B,UAAY,CAAEL,MAAO,EAAGI,QAAQ,IAHF,cAIvCzB,EAAS2B,gBAAkB,CAAEN,MAAO,GAAII,QAAQ,EAAMF,MAAO,YAJtB,cAKvCvB,EAAS4B,gBAAkB,CAAEP,MAAO,EAAGE,MAAO,YALP,cAMvCvB,EAAS6B,KAAO,CACfR,MAAO,GACPS,SAAS,GAAD,OAAMnB,GACdc,QAAQ,EACRF,MAAO,cAV+B,cAYvCvB,EAAS+B,IAAM,CACdV,MAAO,GACPS,SAAS,GAAD,OAAMnB,GACdY,MAAO,cAf+B,cAiBvCvB,EAASgC,aAAe,CACvBX,MAAO,SAACC,GAAD,OAA2B,EAARA,GAC1BG,QAAQ,EACRF,MAAO,eApB+B,cAsBvCvB,EAASiC,MAAQ,CAChBZ,MAAO,SAACC,GAAD,OAA2B,EAARA,GAC1BG,QAAQ,EACRF,MAAO,eAzB+B,cA2BvCvB,EAASkC,SAAW,CACnBb,MAAO,GACPS,SAAS,GAAD,OAAMnB,GACdY,MAAO,cA9B+B,cAgCvCvB,EAASmC,gBAAkB,CAC1Bd,MAAO,GACPS,SAAS,GAAD,OAAMnB,GACdY,MAAO,cAnC+B,cAqCvCvB,EAASoC,aAAe,CAAEf,MAAO,IArCM,cAsCvCrB,EAASqC,YAAc,CAAEhB,MAAO,IAtCO,cAuCvCrB,EAASsC,MAAQ,CAChBjB,MAAO,GACPS,SAAS,GAAD,OAAMhB,GACdS,MAAO,cA1C+B,cA4CvCvB,EAASuC,QAAU,CAAElB,MAAO,GAAIE,MAAO,iBA5CA,cA6CvCvB,EAASwC,WAAa,CAAEnB,MAAO,GAAIE,MAAO,iBA7CH,cA8CvCvB,EAASyC,WAAa,CAAEpB,MAAO,GAAIE,MAAO,iBA9CH,cA+CvCvB,EAAS0C,UAAY,CACpBrB,MAAO,GACPS,SAAS,GAAD,OAAMhB,GACdS,MAAO,cAlD+B,cAoDvCvB,EAAS2C,SAAW,CACnBtB,MAAO,GACPS,SAAS,GAAD,OAAMhB,GACdS,MAAO,cAvD+B,cAyDvCvB,EAAS4C,QAAU,CAAEvB,MAAO,IAzDW,cA0DvCrB,EAAS6C,UAAY,CAAExB,MAAO,IA1DS,GA6D7ByB,EAAS,SAACC,GAAD,oBAA4BA,QAAS5B,EAAK4B,KAWnDC,EAAY,SAACC,GAAD,OAAuC,KAAb,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKxB,SAExCyB,EAAc,SAACC,GAAD,OAAwB,SAACF,GAAD,MAC5B,oBAAdA,EAAI5B,MAAuB4B,EAAI5B,MAAM8B,GAAcF,EAAI5B,Q,oCEvJ1D+B,EAAyB,SAACC,GAC9B,GAAIA,EAAKC,OAAS,EAChB,OAAOD,EAF8C,MAI9BA,EAAKE,MAAM,IAJmB,iBAIhDC,EAJgD,KAItCC,EAJsC,WAKvD,MAAM,GAAN,OAAUD,EAAME,eAAhB,OAAgCD,EAAKE,KAAK,IAAIC,gBAGnCC,EAAmB,SAACC,GAC/B,OAAOA,EACJP,MAAM,KACNQ,IAAIX,GACJO,KAAK,O,SDZEjD,K,oBAAAA,E,qBAAAA,M,KAOL,I,EE0CKsD,EF1CCC,EAAuB,SAACC,GAAD,OAClCA,IAAexD,EAAYyD,SACvBzD,EAAY0D,SACZ1D,EAAYyD,UAuBLE,EAAqB,SAChCH,GAOA,OALe,IAAII,IAAyC,CAC1D,CAAC5D,EAAYyD,SAAU,WACvB,CAACzD,EAAY0D,SAAU,aACvB,CAAC,KAAM,aAEKG,IAAIL,IAAe,WGUpBM,EAlCU,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,cASvC,OACE,cAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SJyBFC,KAAO,SAACC,GAAD,OAAO5E,EAAW4E,GAAmB1E,SAAQ2E,OAAOC,KAAK9E,IIxBnC4D,KAAI,SAACxC,GAAD,OAC3B,eAACoD,EAAA,EAAD,CAAMO,MAAI,EAAaL,QAAS,EAAhC,UACE,cAAC,IAAD,CAAGM,QAAQ,UAAUC,QAAQ,QAAQC,MAAM,gBAA3C,SACGxB,EAAiBtC,KAEnBkD,EAAYlD,GAAuBwC,KAAI,SAACd,GAAD,OACtC,cAACqC,EAAA,EAAD,CAAoBC,UAAU,OAAOC,GAAI,GAAzC,SACE,cAACC,EAAA,EAAD,CACEN,QAAQ,WACRE,MAAM,UACNK,QAAS,kBApBFC,EAoBoB1C,EAAIF,UAnB3C2B,EAAc,CACZiB,QAASA,EACTC,MAAOlF,EAAYyD,SACnB1C,QAAQ,EACRoE,WAAY,OALI,IAACF,GAqBPG,KAAK,QAJP,SAMGjC,EAAiBZ,EAAIF,SAPhBE,EAAIF,WALFxB,S,iBCDlBwE,G,cAAmB,SAACC,GAA0C,IL6HzCb,EK5HjB1D,EAAwCuE,EAAxCvE,OAAQkE,EAAgCK,EAAhCL,QAASE,EAAuBG,EAAvBH,WAAYI,EAAWD,EAAXC,OAC/BhD,EAAMH,EAAO6C,GACnB,GAAIlE,IAAWuB,EAAUC,GACvB,MAAM,IAAIiD,MAAJ,UAAajD,EAAIF,KAAjB,wBAER,GAAI8C,KLuHqBV,EKvHKU,ELuHmB,SAAC5C,GAElD,QADoB,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKnB,WAAY,IAClBqE,SAAShB,KKzHiBlC,GACxC,MAAM,IAAIiD,MAAJ,UAAajD,EAAIF,KAAjB,0BAAuC8C,EAAvC,cAGR,KADqBO,KAAKC,KAAKJ,GAAU,IAAM,GAE7C,MAAM,IAAIC,MAAJ,2CAA8CD,EAA9C,YAER,GAAIA,EAAS,EACX,MAAM,IAAIC,MAAJ,6CAAgDD,EAAhD,cAYGK,EAAiB,SAAC,GAOO,IANpCX,EAMmC,EANnCA,QACAC,EAKmC,EALnCA,MAKmC,IAJnCzC,kBAImC,MAJtB,KAIsB,MAHnC1B,cAGmC,aAFnCoE,kBAEmC,MAFtB,KAEsB,MADnCU,WAEMP,EAAW,CACfL,UACAE,aACAI,OAAQ,EACRxE,SACA8E,gBANiC,MADtB,KACsB,EAOjCX,QACAY,aACiB,OAAfrD,EACIsD,IAAK3D,EAAQI,EAAYC,GAAzBsD,CAAsCd,GACtC,MAGR,OADAI,EAAiBC,GACVA,GA6BIU,EAAoB,SAACV,GAAuC,IAC/DO,EAA6CP,EAA7CO,WAAYC,EAAiCR,EAAjCQ,aAAcP,EAAmBD,EAAnBC,OAAQxE,EAAWuE,EAAXvE,OAC1C,OAAmB,OAAf8E,GAAwC,OAAjBC,EAClB,MAGID,EAAa,GAAK,GACjBC,GAFK/E,EAAS,GAAMwE,IASXjG,EAASoB,MAAOpB,EAASgC,aAAchC,EAASiC,O,SFrE7D+B,K,sBAAAA,E,wBAAAA,E,oBAAAA,E,oBAAAA,E,aAAAA,M,KASL,IGYF2C,EHJQC,GAAyD,mBACnE5C,EAAiB6C,WAAa,GADqC,cAEnE7C,EAAiB8C,SAAW,GAFuC,cAGnE9C,EAAiB+C,SAAW,GAHuC,cAInE/C,EAAiBgD,KAAO,GAJ2C,cAKnEhD,EAAiBnB,UAAY,GALsC,GAYzDoE,EAAa,iBAACC,EAAD,uDAA0B,GAA1B,MAAwC,CAChEC,UAAW,GACXC,UAAW,GACXC,UAAW,GACXC,eAAgBJ,EAAMI,gBAAkB,KACxCC,cAAeL,EAAMK,eAAiB,KACtCC,QAAM,mBACH9G,EAAYyD,SAAW,MADpB,cAEHzD,EAAY0D,SAAW,MAFpB,KAMFqD,EAAuB,SAACC,GAC5B,IAAMF,EAASG,GAAcD,GAE7B,OAAO,2BACFA,GADL,IAEEF,OAAO,eAAMA,MAQJI,EAAa,SAACC,GAAD,OAA8B,SAACH,GACvD,IE1BiCvE,EF0B3BgE,OACuBW,IAA3BD,EAAQP,eACJI,EAAKP,UACLO,EAAKP,UAAUpD,KE7BYZ,EF8BNyD,EAAYiB,EAAQP,gBE9BkB,SACjEtB,GADiE,mBAAC,eAG/DA,GAH8D,IAIjEQ,aAAcC,IAAK3D,EAAQI,EAAYC,GAAzBsD,CAAsCT,EAASL,cF6B7D,OAAO8B,EAAqB,2BACvBC,GADsB,IAEzBP,UAAU,YAAKA,IACZU,MA+BME,GAAc,SAACL,GAAD,OAAgB,SAAC1B,GAC1C,IAAM7C,GAAiB,OAAJuE,QAAI,IAAJA,OAAA,EAAAA,EAAMJ,gBACrBV,EAAW,OAACc,QAAD,IAACA,OAAD,EAACA,EAAMJ,gBAClB,KACEU,EAAkB1B,EAAe,2BAAKN,GAAN,IAAgB7C,gBACtD,OAAOsE,EAAqB,2BACvBC,GADsB,IAEzBP,UAAU,GAAD,mBAAMO,EAAKP,WAAX,CAAsBa,SAWtBC,GAAoB,SAACP,GAAD,mBAAC,eAC7BA,GAD4B,IAE/BP,UAAW,MAcAQ,GAAgB,SAACD,GAA2B,IAAD,EACtD,OAAOA,EAAKP,UAAUe,QACpB,SAAC/E,EAAY6C,GAAc,IAAD,EAClB3E,EAAQqF,EAAkBV,GAChC,GAAc,OAAV3E,EACF,OAAO8B,EAGT,IAAMgF,EAAW,SACfC,EACA/G,GAEA,OAAkB,OAAd+G,EACK/G,EAEU,OAAVA,EAAiB+G,EAAY/G,EAAQ+G,GAI1CxC,EAAQI,EAASJ,MACjByC,EAAUpE,EAAqB2B,GAErC,OAAO,2BACFzC,GADL,uBAEGyC,EAAQuC,EAAShF,EAAWyC,GAAQvE,IAFvC,cAGGgH,EAAUF,EACThF,EAAWkF,GACD,OAAVhH,EAAiB,MAAgB,EAATA,IAL5B,OArBG,mBA+BFX,EAAYyD,SAAW,MA/BrB,cAgCFzD,EAAY0D,SAAW,MAhCrB,K,qJI5HMkE,GApCS,SAACpB,GAAiC,IAChDpF,EAAkDoF,EAAlDpF,SAAUyG,EAAwCrB,EAAxCqB,SAAUC,EAA8BtB,EAA9BsB,SAAUC,EAAoBvB,EAApBuB,OAAQC,EAAYxB,EAAZwB,QADS,EAE/BC,oBAAS,GAFsB,mBAEhDC,EAFgD,KAE1CC,EAF0C,KAKjDC,EAAc,WAClBD,GAAQ,GACRH,GAAWA,KAOb,OACE,qCACGD,GAZc,kBAAMI,GAAQ,MAa7B,eAACE,GAAA,EAAD,CAAQH,KAAMA,EAAMF,QAASI,EAA7B,UACE,cAACE,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAYC,KAAK,WAAWV,SAVf,SAACW,GACpBX,EAASW,EAAMC,OAAOC,OACtBP,KAQ0DO,MAAOd,EAA3D,SACGzG,EAASiC,KAAI,SAACoB,GAAD,OACZ,cAACmE,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,CAAOH,MAAOlE,IACvBsE,MAAO5F,EAAiBsB,YAKhC,cAACuE,GAAA,EAAD,UACE,cAACjE,EAAA,EAAD,CAAQC,QAASoD,EAAjB,6B,oBCfKa,GAxBM,SAAC,GAKI,IAJxBhE,EAIuB,EAJvBA,QACA6C,EAGuB,EAHvBA,SACAa,EAEuB,EAFvBA,MACAI,EACuB,EADvBA,MAEMxG,EAAMH,EAAO6C,GACnB,OAAK3C,EAAUC,GAIb,cAAC2G,GAAA,EAAD,UACE,cAACN,GAAA,EAAD,CACEC,QACE,cAACM,GAAA,EAAD,CACErB,SAAU,SAACW,GAAD,OAAWX,EAASW,EAAMC,OAAOU,UAC3CA,QAAST,IAGbI,MAAOA,EAAQ,SAAW,OAXvB,M,qBFoBLM,GAAuB,SAAC7C,GAAsC,IAC1DlB,EAAuBkB,EAAvBlB,SAAUwC,EAAatB,EAAbsB,SAIZvF,EAAMH,EAAOkD,EAASL,SAE5B,OAAK1C,EAAInB,SAKP,mCACE,cAAC,GAAD,CACEA,SAAUmB,EAAInB,UAAY,GAC1ByG,SAAUvC,EAASH,WACnB2C,SAde,SAACrD,GACpBqD,EAASrD,IAcLsD,OAAQ,SAACuB,GAAD,aACN,cAACvE,EAAA,EAAD,CACEN,QAAQ,WACRE,MAAM,UACNK,QAASsE,EACTlE,KAAK,QAJP,SAMGjC,EAAgB,UAACmC,EAASH,kBAAV,QAAwB,yBAhB1C,O,SAwBNc,K,gBAAAA,E,iBAAAA,M,KAeL,IAAMsD,GAA8B,CAClC,CACEC,MAAO,UACPC,WAAY,MACZC,YAAa,SAACpE,GAAD,OAAwBnC,EAAiBmC,EAASL,WAEjE,CACEuE,MAAO,aACPC,WAAY,UACZC,YAAa,SAACpE,EAAUqE,GAItB,OACE,cAAC,GAAD,CAAsBrE,SAAUA,EAAUwC,SAJvB,SAACrD,GAAD,OACnBkF,GAAYA,EAAS1D,EAAY2D,OAAQnF,QAO/C,CACE+E,MAAO,QACPC,WAAY,QACZC,YAAa,SAACpE,EAAUqE,GACtB,IAAME,EAAWtG,EAAqB+B,EAASJ,OAGzCP,EAAQhB,EAAmB2B,EAASJ,OAC1C,OACE,cAACH,EAAA,EAAD,CAAQJ,MAAOA,EAAOK,QAJJ,kBAClB2E,GAAYA,EAAS1D,EAAY2D,OAAQC,IAGzC,SACGvE,EAASJ,UAKlB,CACEsE,MAAO,SACPC,WAAY,SACZC,YAAa,SAACpE,EAAUqE,GAGtB,OACE,cAAC,GAAD,CACE1E,QAASK,EAASL,QAClB6C,SALiB,SAAC/G,GAAD,OACnB4I,GAAYA,EAAS1D,EAAY2D,OAAQ7I,IAKvC4H,MAAOrD,EAASvE,WAKxB,CACEyI,MAAO,eACPC,WAAY,cAEd,CACEA,WAAY,SACZD,MAAO,SACPE,YAAa,SAACpE,EAAUqE,GACtB,IAAMG,EAAc,SAACvE,GAAD,OAClBoE,GAAYA,EAAS1D,EAAY2D,OAAQrE,IAI3C,OACE,qCACE,cAAC,IAAD,CACEV,WAA+B,IAApBS,EAASvE,OAAkB,IAAM,OAC5C4D,OAA2B,IAApBW,EAASvE,OAAkB,cAAgB,gBAFpD,SAIGuE,EAASC,SAEZ,cAACwE,GAAA,EAAD,CACEC,MAAM,SACNhF,QAXe,kBAAM8E,EAA8B,EAAlBxE,EAASC,SAY1C0E,SAAU3E,EAASvE,OAHrB,SAKE,cAAC,KAAD,MAEF,cAACgJ,GAAA,EAAD,CACEC,MAAM,cACNhF,QApBe,kBACnBM,EAASC,OAAS,GAAKuE,EAAYxE,EAASC,OAAS,IAoBjD0E,SAA8B,IAApB3E,EAASC,QAAgBD,EAASvE,OAH9C,SAKE,cAAC,KAAD,WAMV,CACEyI,MAAO,aACPC,WAAY,oBACZC,YAAa,SAACpE,EAAUqE,GAAc,IAC5B9D,EAAsBP,EAAtBO,WAAYX,EAAUI,EAAVJ,MAOd8E,GACW,IAAfnE,EACI,qBACe,IAAfA,EACA,qBACA,8CAEN,OACE,cAACqE,GAAA,EAAD,CACEF,MAAOA,EACPZ,SAAwB,IAAfvD,EACTsE,cAA8B,OAAftE,EACfb,QAlBgB,WAClB,IAAMoF,EACW,OAAfvE,IAA4C,IAAfA,GAA8B,KAC7D8D,GAAYA,EAAS1D,EAAY2D,OAAQQ,IAgBvCzF,MAAOO,IAAUlF,EAAYyD,SAAW,UAAY,gBAK5D,CACE+F,MAAO,aACPC,WAAY,cACZC,YAAa,SAACpE,GAAD,OACX,cAAC,IAAD,CACEb,QAAQ,SACRE,MACEW,EAASJ,QAAUlF,EAAYyD,SAAW,UAAY,YAH1D,SAMGuC,EAAkBV,OAIzB,CACEkE,MAAO,UACPC,WAAY,IACZC,YAAa,SAACW,EAAGV,GAEf,OACE,cAACI,GAAA,EAAD,CAAYC,MAAM,SAAShF,QAFT,kBAAM2E,GAAYA,EAAS1D,EAAYqE,OAAQ,OAEjE,SACE,cAAC,KAAD,SAOJC,GAAkB,SACtBf,EACAlE,GAEA,OAAOkE,KAASlE,GAkEHkF,GA1DQ,SAAChE,GAAgC,IAC9CC,EAAkCD,EAAlCC,UAAWqB,EAAuBtB,EAAvBsB,SAAU2C,EAAajE,EAAbiE,SAE7B,SAASC,EACPC,EACAnB,EACAoB,EACAjC,GAEA,GAAIiC,IAAe3E,EAAYqE,OAC7B,OAAOG,EAASE,GAElB,GAAIC,IAAe3E,EAAY2D,QAAoB,OAAVJ,EACvC,OAAO1B,EAAS6C,EAAOnB,EAAOb,GAEhC,MAAM,IAAInD,MAAJ,kCACuBoF,EADvB,2CAKR,OACE,cAACC,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,UACGzB,GAAQlG,KAAI,SAAC4H,EAAQN,GAAT,OACX,eAACO,GAAA,EAAD,eAAyBD,EAAOxB,WAAhC,MAAgBkB,UAItB,cAACQ,GAAA,EAAD,UACG1E,EAAUpD,KAAI,SAACiC,EAAU8F,GAAX,OACb,cAACJ,GAAA,EAAD,UACGzB,GAAQlG,KAAI,SAAC4H,EAAQI,GAAT,OACX,cAACH,GAAA,EAAD,UACGX,GAAgBU,EAAOzB,MAAOlE,GAC3B2F,EAAOvB,YACLuB,EAAOvB,YACLpE,EACAgG,KAAMZ,EAANY,CAAoBF,EAApBE,CAA8BL,EAAOzB,QAEvClE,EAAS2F,EAAOzB,OAClByB,EAAOvB,YACPuB,EAAOvB,YACLpE,EACAgG,KAAMZ,EAANY,CAAoBF,EAApBE,CAA8B,OAEhC,KAbUD,OAFLD,c,kDG5PrBG,GAAmB,CAAI,UAAJ,mBAAiBjH,OAAOC,KNgB2B,CAC1EiH,GAAI,KACJC,IAAK,MACLC,MAAO,QACPC,KAAM,OACNC,IAAK,MACLC,GAAI,KACJC,IAAK,MACLC,KAAM,OACNC,IAAK,UMxBDC,GAAoB3H,OAAOC,KAAK2B,GAwDvBgG,GAlDQ,SAAC1F,GAAgC,IAC9CQ,EAAmBR,EAAnBQ,KAAMc,EAAatB,EAAbsB,SACd,OACE,eAAC7D,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGgI,aAAa,eAAzC,UACE,cAAClI,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,eAAC4H,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAYC,GAAG,yBAAf,oBACA,cAACC,GAAA,EAAD,CACE5D,MAAO3B,EAAKH,eAAiB,SAC7BiB,SAAU,SAACW,GACTX,EAAS,gBAAiBW,EAAMC,OAAOC,QAEzC6D,QAAQ,yBALV,SAOGjB,GAAoBlI,KAAI,SAACoJ,GAAD,OACvB,cAACC,GAAA,EAAD,CAAuB/D,MAAO8D,EAA9B,SACc,WAAXA,EAAsB,OAASA,GADnBA,aAOvB,cAACxI,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,eAAC4H,GAAA,EAAD,CAAavH,UAAU,WAAvB,UACE,cAAC8H,GAAA,EAAD,CAAW9H,UAAU,SAArB,yBACA,cAAC0D,GAAA,EAAD,CACEqE,KAAG,EACHjE,MAAO3B,EAAKJ,eACZkB,SAAU,SAACW,GACTX,EACE,iBACAW,EAAMC,OAAOC,QANnB,SAUGsD,GAAkB5I,KAAI,SAACoJ,GAAD,OACrB,cAAC7D,GAAA,EAAD,CAEED,MAAO8D,EACP5D,QAAS,cAACC,GAAA,EAAD,IACTC,MAAO5F,EAAiBsJ,IAHnBA,iB,+BCfNI,GA1CG,SAAC,GAA8B,IACxC/F,EADuC,EAA3BE,KACZF,OACP,OACE,eAAC7C,EAAA,EAAD,CAAMC,WAAS,EAAC4I,UAAU,SAA1B,UACE,eAAC7I,EAAA,EAAD,CAAMO,MAAI,EAACN,WAAS,EAAC6I,WAAW,SAAS5I,QAAS,EAAlD,UACE,cAACF,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,eAAC,IAAD,CAAGG,MAAM,UAAUD,QAAQ,SAASD,QAAQ,KAA5C,uBACa,SAGf,cAACR,EAAA,EAAD,CAAMO,MAAI,EAAV,SACoC,OAAjCsC,EAAO9G,EAAYyD,UAClB,cAACuJ,GAAA,EAAD,CACErI,MAAM,UACNS,KAAK,QACLX,QAAQ,WACRsE,MAAOjC,EAAO9G,EAAYyD,YAE1B,UAGR,eAACQ,EAAA,EAAD,CAAMO,MAAI,EAACN,WAAS,EAAC6I,WAAW,SAAS5I,QAAS,EAAlD,UACE,cAACF,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,eAAC,IAAD,CAAGG,MAAM,YAAYD,QAAQ,SAASD,QAAQ,KAA9C,uBACa,SAGf,cAACR,EAAA,EAAD,CAAMO,MAAI,EAAV,SACoC,OAAjCsC,EAAO9G,EAAY0D,UAClB,cAACsJ,GAAA,EAAD,CACErI,MAAM,YACNS,KAAK,QACLX,QAAQ,WACRsE,MAAOjC,EAAO9G,EAAY0D,YAE1B,c,oBClBRuJ,GAAa,SAACzG,GAA4B,IACtC0G,EAA2C1G,EAA3C0G,OAAQ1J,EAAmCgD,EAAnChD,WAAY2J,EAAuB3G,EAAvB2G,SAAUrF,EAAatB,EAAbsB,SAIhCnD,EAAQhB,EAAmBH,GACjC,OACE,mCACE,cAACwJ,GAAA,EAAD,CACErI,MAAOA,EACPoE,MAAOmE,EACPzI,QAAQ,UACRgG,SAVe,kBAAM0C,EAASD,IAW9BlI,QAVe,kBACnB8C,EAASoF,EVe2B,SACtC1J,GAOA,OALe,IAAII,IAAI,CACrB,CAAC5D,EAAYyD,SAAUzD,EAAY0D,UACnC,CAAC1D,EAAY0D,SAAU,MACvB,CAAC,KAAM1D,EAAYyD,YAEPI,IAAIL,IAAe,KUvBd4J,CAAyB5J,UAoBxC6J,GAAkB,SAAC,GAAoD,IAAlDnF,EAAiD,EAAjDA,KAAMoF,EAA2C,EAA3CA,MAAOtF,EAAoC,EAApCA,QAAoC,EAC9CC,mBAAS,IADqC,mBACnEiF,EADmE,KAC3DK,EAD2D,KAe1E,OACE,eAAClF,GAAA,EAAD,CAAQH,KAAMA,EAAMF,QAXF,WAClBuF,EAAU,IACVvF,KASA,UACE,cAACwF,GAAA,EAAD,yBACA,cAAClF,GAAA,EAAD,UACE,sBAAMmF,SAVM,SAAChF,GACjBA,EAAMiF,iBACNJ,EAAMJ,GACNK,EAAU,KAON,SACA,cAACI,GAAA,EAAD,CACEC,WAAS,EACTC,OAAO,QACP9E,MAAM,cACNJ,MAAOuE,EACPpF,SAvBa,SAACW,GACpB8E,EAAU9E,EAAMC,OAAOC,kBA4EZmF,GAvCC,SAACtH,GAAyB,IAChCuH,EAA+DvH,EAA/DuH,QAASC,EAAsDxH,EAAtDwH,YAAaC,EAAyCzH,EAAzCyH,eAAgBC,EAAyB1H,EAAzB0H,eAAgBlH,EAASR,EAATQ,KADvB,EAEfiB,oBAAkB,GAFH,mBAEhCC,EAFgC,KAE1BC,EAF0B,KAWjCgG,EVnFwB,SAC9BJ,EACArH,EACAC,GAEA,OAAOoH,EAAQ1K,KAAI,SAAC6J,GAAD,MAAa,CAC9BA,SACA1J,WAAYmD,EAAUlB,SAASyH,GAC3BlN,EAAY0D,SACZgD,EAAUjB,SAASyH,GACnBlN,EAAYyD,SACZ,SUwEa2K,CAAiBL,EAAS/G,EAAKN,UAAWM,EAAKL,WAClE,OACE,eAAC1C,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAAC,GAAD,CACE+D,KAAMA,EACNoF,MATkB,SAACJ,GACvB/E,GAAQ,GACR6F,EAAYd,IAQRlF,QAdc,WAClBG,GAAQ,MAeN,cAAClE,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAACO,EAAA,EAAD,CAAQN,QAAQ,YAAYO,QAdf,kBAAMmD,GAAQ,IAc3B,0BAIF,cAAClE,EAAA,EAAD,CAAMO,MAAI,EAAV,SACG2J,EAAW9K,KAAI,gBAAG6J,EAAH,EAAGA,OAAQ1J,EAAX,EAAWA,WAAX,OACd,cAAC,GAAD,CAEEsE,SAAUmG,EACVd,SAAUe,EACVhB,OAAQA,EACR1J,WAAYA,GAJP0J,Y,+DC7GJmB,GAAmB,SAACrH,GAC/B,IAAML,EAAYK,EAAKL,UAAUtD,KAAI,SAACiL,GAAD,MAAO,CAC1CA,EACAtH,EAAKF,OAAO9G,EAAY0D,WAAa,SAEjCgD,EAAYM,EAAKN,UAAUrD,KAAI,SAACiL,GAAD,MAAO,CAC1CA,EACAtH,EAAKF,OAAO9G,EAAYyD,WAAa,SAEvC,OAAO,2BACF8K,KAAU5H,IACV4H,KAAU7H,KAIX8H,GAAU,SAAC7F,GAAD,YAAmCvB,IAAVuB,GAAiC,OAAVA,GAE1D8F,GAAgB,SACpBC,EACAC,GAKA,OAHAD,EAASF,GAAQE,GAAUA,EAAS,IACpCC,EAASH,GAAQG,GAAUA,EAAS,IAUzBC,GAAe,SAACC,GAAD,OAAuB,SACjDC,GADiD,OAE1BC,KAPF,SAACF,GAAD,OAAuB,SAAClO,GAE7C,OADAA,EAAQ6N,GAAQ7N,GAASA,EAAQ,GACNkO,GAKMG,CAAeH,GAAzBE,CAAqCD,K,qBCe/CG,GAlCI,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,cACdnB,EAAU3J,KDwBW,SAC3B8K,GAEA,IAAMnB,EAAUmB,EAAc1H,QAAO,SAACuG,EAASoB,GAE7C,OADA7K,OAAOC,KAAK4K,GAAoBC,SAAQ,SAACd,GAAD,OAAOP,EAAQsB,IAAIf,MACpDP,IACN,IAAIuB,KACP,OAAO,YAAIvB,EAAQwB,UC/BIC,CAAcN,IAC/BO,EAAMb,GAPK,IAOLA,CDmBiB,SAC7BM,GAD6B,OAENQ,KAAU,WAAV,GAAW,IAAX,mBAAkBR,GAAlB,CAAiCT,MCrBnBkB,CAAgBT,IAErD,OACE,cAACrE,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,mBACC6C,EAAQ1K,KAAI,SAAC6J,GAAD,OACX,cAAChC,GAAA,EAAD,oBAA4BgC,EAA5B,kBACkB9F,IAAhBqI,EAAIvC,GAAwB,GAAKuC,EAAIvC,GADvC,MAAgBA,WAMtB,cAAC/B,GAAA,EAAD,UACG+D,EAAc7L,KAAI,SAACyD,EAAQ6D,GAAT,OACjB,eAACK,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UAAYP,EAAQ,IACnBoD,EAAQ1K,KAAI,SAAC6J,GAAD,OACX,cAAChC,GAAA,EAAD,eACsB9D,IAAnBN,EAAOoG,GAAwB,IAAMpG,EAAOoG,IAD/BA,QAHLvC,cCZrBiF,GdkH2B,WAC/B,IAAMC,EAJNvL,OAAOC,KAAKjF,GAAU+D,KAAI,SAACyM,GAAD,OAAiB1N,EAAO0N,MAKlD,OAAOC,KAAQ,SAACxN,GAAD,OAASA,EAAI1B,OAAS,WAAUgP,GcpH1BG,GAyHRC,GAvHK,WAAO,IAAD,EACAhI,mBAAe1B,KADf,mBACjBS,EADiB,KACXkJ,EADW,OAEMjI,mBAAmB,IAFzB,mBAEjB8F,EAFiB,KAERoC,EAFQ,OAGkBlI,mBAA+B,IAHjD,mBAGjBiH,EAHiB,KAGFkB,EAHE,KAkExB,OACE,eAACnM,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAG2I,UAAU,SAAtC,UACE,cAAC7I,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,eAACP,EAAA,EAAD,CAAMO,MAAI,EAACN,WAAS,EAACC,QAAS,EAAG2I,UAAU,MAA3C,UACE,cAAC7I,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAACO,EAAA,EAAD,CAAQN,QAAQ,YAAYO,QAhEd,kBAAMkL,EAAQ3J,MAgE5B,0BAIF,cAACtC,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAC,GAAD,CAAgBwC,KAAMA,EAAMc,SAtDH,SACjCuI,EACA1H,GAEA,GAAa,mBAAT0H,EAA2B,CAC7B,IAAM/K,GXAgBsB,EWAO+B,EXCjC,CACErF,EAAiB6C,WACjB7C,EAAiB8C,SACjB9C,EAAiB+C,SACjB/C,EAAiBgD,MACjBb,SAASmB,GWLHhB,EAAe,CACbX,QAAS3F,EAASoB,MAClBwE,MAAOlF,EAAYyD,WAErBmC,EAAe,CACbX,QAAS3F,EAAS6C,UAClB+C,MAAOlF,EAAYyD,YAEnB6M,EAAUvK,IACdwB,GX0E0B,SAACjC,GAAD,OAAwB,SAAC0B,GAAD,OACxDK,GAAYL,EAAZK,CAAkB/B,IW1EZiL,CAAmBjL,GACnB4B,EAAW,eAAGmJ,EAAO1H,IAHP5C,CAIdiB,GACFkJ,EAAQI,QAERJ,EAAQhJ,EAAW,eAAGmJ,EAAO1H,GAArBzB,CAA8BF,IXhBjB,IAACJ,YWqDtB,cAAC3C,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAC,GAAD,CACEuJ,QAASA,EACT/G,KAAMA,EACNgH,YA5EgB,SAACd,GAAD,OACtBiD,GAAW,SAACK,GAAD,OAAUC,KAAK,GAAD,mBAAKD,GAAL,CAAWtD,SA4E9BgB,eA3EmB,SAAChB,GAAD,OACzBiD,GAAW,SAACK,GAAD,OAAUA,EAAKE,QAAO,SAACpC,GAAD,OAAOA,IAAMpB,SA2ExCe,eA1EmB,SACzBf,EACA1J,GAGE0M,EADiB,OAAf1M,EXyFoB,SAAC0J,GAAD,OAAoB,SAAClG,GAAD,mBAAC,eAC5CA,GAD2C,IAE9CL,UAAWK,EAAKL,UAAU+J,QAAO,SAACpC,GAAD,OAAOA,IAAMpB,KAC9CxG,UAAWM,EAAKN,UAAUgK,QAAO,SAACpC,GAAD,OAAOA,IAAMpB,QW3FlCyD,CAAazD,EAAbyD,CAAqB3J,GXsEV,SAACkG,EAAgB7K,GAAjB,OAAuC,SAC9D2E,GACU,IAAD,EACH4J,EAAMvO,IAASrC,EAAYyD,SAAW,YAAc,YAEpDoN,EAAWxO,IAASrC,EAAY0D,SAAW,YAAc,YAE/D,OAAIsD,EAAK4J,GAAKnL,SAASyH,GACd,eAAKlG,GAGP,2BACFA,GADL,uBAEG4J,EAFH,sBAEa5J,EAAK4J,IAFlB,CAEwB1D,KAFxB,cAGG2D,EAAW7J,EAAK6J,GAAUH,QAAO,SAACpC,GAAD,OAAOA,IAAMpB,MAHjD,KW/EY4D,CAAU5D,EAAQ1J,EAAlBsN,CAA8B9J,SAsEtC,eAAC/C,EAAA,EAAD,CAAMO,MAAI,EAACN,WAAS,EAApB,UACE,cAACD,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAC,GAAD,CAAWwC,KAAMA,MAEnB,cAAC/C,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAACO,EAAA,EAAD,CAAQN,QAAQ,YAAYO,QAjCb,WACrBoL,EAAiB,GAAD,mBAAKlB,GAAL,CAAoBb,GAAiBrH,MACrDkJ,EAAQ3J,MA+BF,8BAKJ,cAACtC,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAC,EAAD,CACET,YAAa6L,GACb5L,cAxDkB,SAACsB,GACzB,OAAO4K,EAAQnK,IAAKH,EAAgByB,GAAYL,GAAjCjB,CAAwCT,SA0DrD,cAACrB,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAC,GAAD,CACEiC,UAAS,OAAEO,QAAF,IAAEA,OAAF,EAAEA,EAAMP,UACjBqB,SA3DqB,SAC3B6C,EACAnB,EACAb,GTY0B,IAACxB,ESV3B+I,EACEnK,KTSyBoB,ESRR,eAAGqC,EAAQb,GTQ8B,SAC9DrD,GAEA,IAAMgL,EAAO,2BAAQhL,GAAa6B,GAElC,OADA9B,EAAiBiL,GACVA,IFoEyB,SAACtJ,GAAD,OAAgB,SAAC2D,GAAD,OAAmB,SACnE2F,GAEA,OAAOvJ,EAAqB,2BACvBC,GADsB,IAEzBP,UAAWO,EAAKP,UAAUpD,KAAI,SAACiC,EAAUyL,GAAX,OAC5BA,IAAMpG,EAAN,eAAmB2F,GAAYhL,UWtF7B0L,CAAmBhK,EAAnBgK,CAAyBrG,GAF3B5E,CAGEiB,EAAKP,UAAUkE,MAmDbF,SAxGqB,SAACE,GAAD,OAC3BuF,EXuH0B,SAAClJ,GAAD,OAAgB,SAAC2D,GAC7C,OAAO5D,EAAqB,2BACvBC,GADsB,IAEzBP,UAAWO,EAAKP,UAAUiK,QAAO,SAACrG,EAAG0G,GAAJ,OAAUA,IAAMpG,SW1HzCsG,CAAejK,EAAfiK,CAAqBtG,SA0G3B,cAAC1G,EAAA,EAAD,CAAMO,MAAI,EAAV,SACE,cAAC,GAAD,CAAY0K,cAAeA,UC3I7BgC,GAAcC,aAAW,SAACC,GAAD,MAAY,CACzClN,UAAW,CACTmN,QAASD,EAAMjN,QAAQ,QAmBZmN,OAff,WACE,IAAMC,EAAUL,KAEhB,OACE,qCACE,cAACM,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAAC,IAAD,CAAGhN,QAAQ,KAAX,UAAgB,cAAC,IAAD,CAAME,MAAM,QAA5B,qBAEF,cAAC+M,EAAA,EAAD,CAAWC,UAAWJ,EAAQrN,UAA9B,SACE,cAAC,GAAD,UCNO0N,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCJdQ,IAAStK,OACP,cAAC,IAAMuK,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.d4fca533.chunk.js","sourcesContent":["import groupBy from \"lodash/fp/groupBy\";\nimport sortBy from \"lodash/fp/sortBy\";\n\nexport interface Bid extends BidData {\n  type: BID_TYPE;\n}\n\ninterface BidData {\n  score: number | ((party: number) => number);\n  group?: BidGroupType;\n  variants?: BidVariant[];\n  silent?: boolean;\n}\n\nexport enum BID_TYPE {\n  PARTY = \"PARTY\",\n  TRULL = \"TRULL\",\n  FOUR_KING = \"FOUR_KING\",\n  CATCH_THE_MAYOR = \"CATCH_THE_MAYOR\",\n  CATCH_THE_PAGAT = \"CATCH_THE_PAGAT\",\n  ULTI = \"ULTI\",\n  UHU = \"UHU\",\n  DOUBLE_PARTY = \"DOUBLE_PARTY\",\n  VOLAT = \"VOLAT\",\n  PHEASANT = \"PHEASANT\",\n  PHEASANT_IN_2ND = \"PHEASANT_IN_2ND\",\n  EIGHT_TAROCK = \"EIGHT_TAROCK\",\n  NINE_TAROCK = \"NINE_TAROCK\",\n  FURRY = \"FURRY\",\n  CENTRUM = \"CENTRUM\",\n  SMALL_BIRD = \"SMALL_BIRD\",\n  LARGE_BIRD = \"LARGE_BIRD\",\n  CSUZIMA = \"CSUZIMA\",\n  KING_ULTI = \"KING_ULTI\",\n  KING_UHU = \"KING_UHU\",\n  KLOPICZKY = \"KLOPICZKY\",\n}\n\nexport type BidGroupType =\n  | \"PARTY_LIKE\"\n  | \"ULTI_LIKE\"\n  | \"CENTRUM_LIKE\"\n  | \"CATCHES\"\n  | \"OTHERS\";\nconst BID_GROUPS: { [K in BidGroupType]: { weight: number } } = {\n  PARTY_LIKE: { weight: 10 },\n  ULTI_LIKE: { weight: 20 },\n  CENTRUM_LIKE: { weight: 30 },\n  CATCHES: { weight: 40 },\n  OTHERS: { weight: 50 },\n};\nexport const bidGroupNamesByWeight = () =>\n  sortBy((g) => BID_GROUPS[g as BidGroupType].weight, Object.keys(BID_GROUPS));\n\nexport enum SMALLEST_VARIANT {\n  PAGAT = \"PAGAT\",\n  EAGLE = \"EAGLE\",\n}\n\nexport enum CARD_SHAPE_VARIANT {\n  HEART = \"HEART\",\n  SPADE = \"SPADE\",\n  CLUB = \"CLUB\",\n  DIAMOND = \"DIAMOND\",\n}\n\nconst SMALLEST_VARIANTS = [SMALLEST_VARIANT.PAGAT, SMALLEST_VARIANT.EAGLE];\nconst CARD_SHAPE_VARIANTS = [\n  CARD_SHAPE_VARIANT.CLUB,\n  CARD_SHAPE_VARIANT.DIAMOND,\n  CARD_SHAPE_VARIANT.HEART,\n  CARD_SHAPE_VARIANT.SPADE,\n];\n\nexport type BidVariant = SMALLEST_VARIANT | CARD_SHAPE_VARIANT;\n\nconst BIDS: { [key in BID_TYPE]: BidData } = {\n  [BID_TYPE.PARTY]: { score: (party: number) => party, group: \"PARTY_LIKE\" },\n  [BID_TYPE.TRULL]: { score: 2, silent: true },\n  [BID_TYPE.FOUR_KING]: { score: 2, silent: true },\n  [BID_TYPE.CATCH_THE_MAYOR]: { score: 42, silent: true, group: \"CATCHES\" },\n  [BID_TYPE.CATCH_THE_PAGAT]: { score: 4, group: \"CATCHES\" },\n  [BID_TYPE.ULTI]: {\n    score: 10,\n    variants: [...SMALLEST_VARIANTS],\n    silent: true,\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.UHU]: {\n    score: 15,\n    variants: [...SMALLEST_VARIANTS],\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.DOUBLE_PARTY]: {\n    score: (party: number) => party * 4,\n    silent: true,\n    group: \"PARTY_LIKE\",\n  },\n  [BID_TYPE.VOLAT]: {\n    score: (party: number) => party * 6,\n    silent: true,\n    group: \"PARTY_LIKE\",\n  },\n  [BID_TYPE.PHEASANT]: {\n    score: 50,\n    variants: [...SMALLEST_VARIANTS],\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.PHEASANT_IN_2ND]: {\n    score: 50,\n    variants: [...SMALLEST_VARIANTS],\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.EIGHT_TAROCK]: { score: 1 },\n  [BID_TYPE.NINE_TAROCK]: { score: 2 },\n  [BID_TYPE.FURRY]: {\n    score: 25,\n    variants: [...CARD_SHAPE_VARIANTS],\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.CENTRUM]: { score: 10, group: \"CENTRUM_LIKE\" },\n  [BID_TYPE.SMALL_BIRD]: { score: 15, group: \"CENTRUM_LIKE\" },\n  [BID_TYPE.LARGE_BIRD]: { score: 20, group: \"CENTRUM_LIKE\" },\n  [BID_TYPE.KING_ULTI]: {\n    score: 15,\n    variants: [...CARD_SHAPE_VARIANTS],\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.KING_UHU]: {\n    score: 20,\n    variants: [...CARD_SHAPE_VARIANTS],\n    group: \"ULTI_LIKE\",\n  },\n  [BID_TYPE.CSUZIMA]: { score: 4 },\n  [BID_TYPE.KLOPICZKY]: { score: 3 },\n};\n\nexport const getBid = (type: BID_TYPE): Bid => ({ type, ...BIDS[type] });\n\nexport const getAllBids = (): Bid[] =>\n  Object.keys(BID_TYPE).map((b: BID_TYPE) => getBid(b));\n\nexport type BidsByGroup = { [K in BidGroupType]: Bid[] };\nexport const getAllBidsByGorup = (): BidsByGroup => {\n  const bids = getAllBids();\n  return groupBy((bid) => bid.group || \"OTHERS\", bids) as BidsByGroup;\n};\n\nexport const canSilent = (bid: Bid): boolean => bid?.silent === true;\n\nexport const getBidScore = (partyScore: number) => (bid: Bid): number =>\n  typeof bid.score === \"function\" ? bid.score(partyScore) : bid.score;\n\nexport const hasVariant = (variant: BidVariant) => (bid: Bid): boolean => {\n  const variants = bid?.variants || [];\n  return variants.includes(variant);\n};\n","export enum PLAYER_TYPE {\n  DECLARER = \"DECLARER\",\n  OPPONENT = \"OPPONENT\",\n}\nexport type Player = string;\nexport type PlayerScore = number | null;\n\nexport const getAnotherPlayerType = (playerType: PLAYER_TYPE): PLAYER_TYPE =>\n  playerType === PLAYER_TYPE.DECLARER\n    ? PLAYER_TYPE.OPPONENT\n    : PLAYER_TYPE.DECLARER;\n\nexport interface PlayerListItem {\n  player: Player;\n  playerType: PLAYER_TYPE | null;\n}\nexport type PlayerList = PlayerListItem[];\nexport const createPlayerList = (\n  players: Player[],\n  declarers: Player[],\n  opponents: Player[]\n): PlayerList => {\n  return players.map((player) => ({\n    player,\n    playerType: opponents.includes(player)\n      ? PLAYER_TYPE.OPPONENT\n      : declarers.includes(player)\n      ? PLAYER_TYPE.DECLARER\n      : null,\n  }));\n};\n\ntype PlayerTypeColor = \"primary\" | \"secondary\" | \"default\";\nexport const getPlayerTypeColor = (\n  playerType: PLAYER_TYPE | null\n): PlayerTypeColor => {\n  const mapper = new Map<PLAYER_TYPE | null, PlayerTypeColor>([\n    [PLAYER_TYPE.DECLARER, \"primary\"],\n    [PLAYER_TYPE.OPPONENT, \"secondary\"],\n    [null, \"default\"],\n  ]);\n  return mapper.get(playerType) || \"default\";\n};\n\nexport const rotatePlayerTypeWithNull = (\n  playerType: PLAYER_TYPE | null\n): PLAYER_TYPE | null => {\n  const mapper = new Map([\n    [PLAYER_TYPE.DECLARER, PLAYER_TYPE.OPPONENT],\n    [PLAYER_TYPE.OPPONENT, null],\n    [null, PLAYER_TYPE.DECLARER],\n  ]);\n  return mapper.get(playerType) || null;\n};\n","const makeFirstLetterCapital = (word: string): string => {\n  if (word.length < 1) {\n    return word\n  }\n  const [first, ...rest] = word.split(\"\")\n  return `${first.toUpperCase()}${rest.join(\"\").toLowerCase()}`\n}\n\nexport const upperCaseToWords = (upperCased: string): string => {\n  return upperCased\n    .split(\"_\")\n    .map(makeFirstLetterCapital)\n    .join(\" \")\n}\n","import {\n  calculateContract,\n  Contract,\n  updateBidBaseScore,\n  createContract,\n} from \"./contract\";\nimport {\n  getAnotherPlayerType,\n  Player,\n  PLAYER_TYPE,\n  PlayerScore,\n} from \"./player\";\n\ntype GameScore = {\n  [PLAYER_TYPE.DECLARER]: PlayerScore;\n  [PLAYER_TYPE.OPPONENT]: PlayerScore;\n};\nexport interface Game {\n  contracts: Contract[];\n  declarers: Player[];\n  opponents: Player[];\n  partyScoreType: PARTY_SCORE_TYPE | null;\n  called_tarock: CalledTarockType | null;\n  scores: GameScore;\n}\n\ntype CalledTarockType =\n  | \"XX\"\n  | \"XIX\"\n  | \"XVIII\"\n  | \"XVII\"\n  | \"XVI\"\n  | \"XV\"\n  | \"XIV\"\n  | \"XIII\"\n  | \"XII\";\n\nexport const CALLED_TAROCK: { [K in CalledTarockType]: CalledTarockType } = {\n  XX: \"XX\",\n  XIX: \"XIX\",\n  XVIII: \"XVIII\",\n  XVII: \"XVII\",\n  XVI: \"XVI\",\n  XV: \"XV\",\n  XIV: \"XIV\",\n  XIII: \"XIII\",\n  XII: \"XII\",\n};\n\nexport enum PARTY_SCORE_TYPE {\n  KLOPICZKY = \"KLOPICZKY\",\n  TOOK_THREE = \"TOOK_THREE\",\n  TOOK_TWO = \"TOOK_TWO\",\n  TOOK_ONE = \"TOOK_ONE\",\n  SOLO = \"SOLO\",\n}\nexport type PartyScoreValue = 0 | 1 | 2 | 3 | 4;\n\nexport const isPartyLike = (partyScoreType: PARTY_SCORE_TYPE): boolean =>\n  [\n    PARTY_SCORE_TYPE.TOOK_THREE,\n    PARTY_SCORE_TYPE.TOOK_TWO,\n    PARTY_SCORE_TYPE.TOOK_ONE,\n    PARTY_SCORE_TYPE.SOLO,\n  ].includes(partyScoreType);\n\nexport const PARTY_SCORE: { [K in PARTY_SCORE_TYPE]: PartyScoreValue } = {\n  [PARTY_SCORE_TYPE.TOOK_THREE]: 1,\n  [PARTY_SCORE_TYPE.TOOK_TWO]: 2,\n  [PARTY_SCORE_TYPE.TOOK_ONE]: 3,\n  [PARTY_SCORE_TYPE.SOLO]: 4,\n  [PARTY_SCORE_TYPE.KLOPICZKY]: 0,\n};\n\ninterface CreateGameProps {\n  partyScoreType?: PARTY_SCORE_TYPE;\n  called_tarock?: CalledTarockType;\n}\nexport const createGame = (props: CreateGameProps = {}): Game => ({\n  contracts: [],\n  declarers: [],\n  opponents: [],\n  partyScoreType: props.partyScoreType || null,\n  called_tarock: props.called_tarock || null,\n  scores: {\n    [PLAYER_TYPE.DECLARER]: null,\n    [PLAYER_TYPE.OPPONENT]: null,\n  },\n});\n\nconst updateGameWithScores = (game: Game): Game => {\n  const scores = calculateGame(game);\n\n  return {\n    ...game,\n    scores: { ...scores },\n  };\n};\n\nexport interface UpdateGameProps {\n  partyScoreType?: PARTY_SCORE_TYPE;\n  called_tarock?: CalledTarockType | null;\n}\nexport const updateGame = (updates: UpdateGameProps) => (game: Game): Game => {\n  const contracts =\n    updates.partyScoreType === undefined\n      ? game.contracts\n      : game.contracts.map(\n          updateBidBaseScore(PARTY_SCORE[updates.partyScoreType])\n        );\n\n  return updateGameWithScores({\n    ...game,\n    contracts: [...contracts],\n    ...updates,\n  });\n};\n\nexport const addPlayer = (player: Player, type: PLAYER_TYPE) => (\n  game: Game\n): Game => {\n  const key = type === PLAYER_TYPE.DECLARER ? \"declarers\" : \"opponents\";\n\n  const otherKey = type === PLAYER_TYPE.OPPONENT ? \"declarers\" : \"opponents\";\n\n  if (game[key].includes(player)) {\n    return { ...game };\n  }\n\n  return {\n    ...game,\n    [key]: [...game[key], player],\n    [otherKey]: game[otherKey].filter((p) => p !== player),\n  };\n};\n\nexport const removePlayer = (player: Player) => (game: Game): Game => ({\n  ...game,\n  opponents: game.opponents.filter((p) => p !== player),\n  declarers: game.declarers.filter((p) => p !== player),\n});\n\nexport const addContractFlipped = (contract: Contract) => (game: Game): Game =>\n  addContract(game)(contract);\n\nexport const addContract = (game: Game) => (contract: Contract): Game => {\n  const partyScore = game?.partyScoreType\n    ? PARTY_SCORE[game?.partyScoreType]\n    : null;\n  const updatedContract = createContract({ ...contract, partyScore });\n  return updateGameWithScores({\n    ...game,\n    contracts: [...game.contracts, updatedContract],\n  });\n};\n\nexport const removeContract = (game: Game) => (index: number): Game => {\n  return updateGameWithScores({\n    ...game,\n    contracts: game.contracts.filter((_, i) => i !== index),\n  });\n};\n\nexport const removeAllContract = (game: Game): Game => ({\n  ...game,\n  contracts: [],\n});\n\nexport const updateGameContract = (game: Game) => (index: number) => (\n  updated: Contract\n): Game => {\n  return updateGameWithScores({\n    ...game,\n    contracts: game.contracts.map((contract, i) =>\n      i === index ? { ...updated } : contract\n    ),\n  });\n};\n\nexport const calculateGame = (game: Game): GameScore => {\n  return game.contracts.reduce(\n    (partyScore, contract) => {\n      const score = calculateContract(contract);\n      if (score === null) {\n        return partyScore;\n      }\n\n      const addScore = (\n        prevScore: PlayerScore,\n        score: PlayerScore\n      ): PlayerScore => {\n        if (prevScore === null) {\n          return score;\n        } else {\n          return score === null ? prevScore : score + prevScore;\n        }\n      };\n\n      const taker = contract.taker;\n      const another = getAnotherPlayerType(taker);\n\n      return {\n        ...partyScore,\n        [taker]: addScore(partyScore[taker], score),\n        [another]: addScore(\n          partyScore[another],\n          score === null ? null : score * -1\n        ),\n      };\n    },\n    {\n      [PLAYER_TYPE.DECLARER]: null,\n      [PLAYER_TYPE.OPPONENT]: null,\n    }\n  );\n};\n","import React from \"react\";\nimport { Button, Grid, Box, Typography as T } from \"@material-ui/core\";\nimport {\n  Bid,\n  BidsByGroup,\n  BidGroupType,\n  bidGroupNamesByWeight,\n  BID_TYPE,\n} from \"../lib/bid\";\nimport { upperCaseToWords } from \"../lib/util\";\nimport { Contract, CreateContractProps } from \"../lib/contract\";\nimport { PLAYER_TYPE } from \"../lib/player\";\n\ninterface BidSelectorProps {\n  bidsByGroup: BidsByGroup;\n  onAddContract: (contract: Partial<Contract>) => void;\n}\nconst ContractSelector = ({ bidsByGroup, onAddContract }: BidSelectorProps) => {\n  const handleClick = (bidType: BID_TYPE) => {\n    onAddContract({\n      bidType: bidType,\n      taker: PLAYER_TYPE.DECLARER,\n      silent: false,\n      bidVariant: null,\n    });\n  };\n  return (\n    <Grid container spacing={1}>\n      {bidGroupNamesByWeight().map((group) => (\n        <Grid item key={group} spacing={1}>\n          <T variant=\"caption\" display=\"block\" color=\"textSecondary\">\n            {upperCaseToWords(group)}\n          </T>\n          {bidsByGroup[group as BidGroupType].map((bid) => (\n            <Box key={bid.type} component=\"span\" mr={0.5}>\n              <Button\n                variant=\"outlined\"\n                color=\"primary\"\n                onClick={() => handleClick(bid.type)}\n                size=\"small\"\n              >\n                {upperCaseToWords(bid.type)}\n              </Button>\n            </Box>\n          ))}\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default ContractSelector;\n","import { PLAYER_TYPE } from \"./player\";\nimport {\n  BidVariant,\n  BID_TYPE,\n  canSilent,\n  hasVariant,\n  getBid,\n  getBidScore,\n} from \"./bid\";\nimport flow from \"lodash/fp/flow\";\nimport pick from \"lodash/fp/pick\";\nimport isEqual from \"lodash/fp/isEqual\";\nimport groupBy from \"lodash/fp/groupBy\";\nimport { PartyScoreValue } from \"./game\";\n\nconst CONTRA_NAMES = [\"None\", \"Contra\", \"Recontra\", \"Subcontra\", \"Mortcontra\"];\n\ntype ContraMultiplier = number;\nexport interface Contract {\n  bidType: BID_TYPE;\n  bidBaseScore: number | null;\n  bidVariant: BidVariant | null;\n  contra: ContraMultiplier;\n  winByTaker: boolean | null;\n  taker: PLAYER_TYPE;\n  silent: boolean;\n}\n\nconst validateContract = (contract: Contract): void | undefined => {\n  const { silent, bidType, bidVariant, contra } = contract;\n  const bid = getBid(bidType);\n  if (silent && !canSilent(bid)) {\n    throw new Error(`${bid.type} can not be silent.`);\n  }\n  if (bidVariant && !hasVariant(bidVariant)(bid)) {\n    throw new Error(`${bid.type} does not have ${bidVariant} variant.`);\n  }\n  const isPowerOfTwo = Math.log2(contra) % 1 === 0;\n  if (!isPowerOfTwo) {\n    throw new Error(`Contra must be power of two, but ${contra} given.`);\n  }\n  if (contra < 1) {\n    throw new Error(`Contra must be greater than 1, but ${contra} given.`);\n  }\n};\n\nexport interface CreateContractProps {\n  bidType: BID_TYPE;\n  partyScore?: PartyScoreValue | null;\n  taker: PLAYER_TYPE;\n  silent?: boolean;\n  bidVariant?: BidVariant | null;\n  winByTaker?: boolean | null;\n}\nexport const createContract = ({\n  bidType,\n  taker,\n  partyScore = null,\n  silent = false,\n  bidVariant = null,\n  winByTaker = null,\n}: CreateContractProps): Contract => {\n  const contract = {\n    bidType,\n    bidVariant,\n    contra: 1,\n    silent,\n    winByTaker,\n    taker,\n    bidBaseScore:\n      partyScore !== null\n        ? flow(getBid, getBidScore(partyScore))(bidType)\n        : null,\n  };\n  validateContract(contract);\n  return contract;\n};\n\nexport const updateBidBaseScore = (partyScore: PartyScoreValue) => (\n  contract: Contract\n): Contract => ({\n  ...contract,\n  bidBaseScore: flow(getBid, getBidScore(partyScore))(contract.bidType),\n});\n\nexport type UpdateContractProps = Partial<\n  Pick<\n    Contract,\n    | \"taker\"\n    | \"winByTaker\"\n    | \"silent\"\n    | \"bidVariant\"\n    | \"contra\"\n  >\n>;\nexport const updateContract = (updates: UpdateContractProps) => (\n  contract: Contract\n): Contract => {\n  const updated = { ...contract, ...updates };\n  validateContract(updated);\n  return updated;\n};\n\nexport type ContractScore = number | null;\nexport const calculateContract = (contract: Contract): ContractScore => {\n  const { winByTaker, bidBaseScore, contra, silent } = contract;\n  if (winByTaker === null || bidBaseScore === null) {\n    return null;\n  }\n  const multiplier = silent ? 0.5 : contra;\n  const sign = winByTaker ? 1 : -1;\n  return sign * bidBaseScore * multiplier;\n};\n\nexport type ContractWithIndex = [Contract, number];\nexport const withIndices = (contracts: Contract[]): ContractWithIndex[] =>\n  contracts.map((contract, index) => [contract, index]);\n\nconst PARTY_LIKE_BIDS = [BID_TYPE.PARTY, BID_TYPE.DOUBLE_PARTY, BID_TYPE.VOLAT];\nexport const filterByPartyLike = (\n  contracts: ContractWithIndex[]\n): ContractWithIndex[] =>\n  contracts.filter(([contract, _]) =>\n    PARTY_LIKE_BIDS.includes(contract.bidType)\n  );\n\nexport const filterByProps = (props: Partial<Contract>) => (contracts: ContractWithIndex[]): ContractWithIndex[] => {\n  return contracts.filter(([contract, _]) => flow(\n      pick(Object.keys(props)),\n      isEqual(props)\n    )(contract)\n  )\n}\n\nexport const groupByPlayerType = (contracts: ContractWithIndex[]) => {\n  const groupped = groupBy(([contract]) => contract.taker)(contracts);\n  return {\n    [PLAYER_TYPE.DECLARER]: groupped[PLAYER_TYPE.DECLARER] || [],\n    [PLAYER_TYPE.OPPONENT]: groupped[PLAYER_TYPE.OPPONENT] || []\n  }\n}\n","import React from \"react\";\nimport {\n  calculateContract,\n  Contract,\n  UpdateContractProps,\n} from \"../lib/contract\";\nimport { upperCaseToWords } from \"../lib/util\";\nimport {\n  TableContainer,\n  TableHead,\n  TableBody,\n  Table,\n  TableCell,\n  TableRow,\n  IconButton,\n  Button,\n  Checkbox,\n  Typography as T,\n} from \"@material-ui/core\";\nimport {\n  MdDelete as RemoveIcon,\n  MdArrowUpward as DoubleContraIcon,\n  MdArrowDownward as DivideContraIcon,\n} from \"react-icons/md\";\nimport { BidVariant, getBid } from \"../lib/bid\";\nimport VariantSelector from \"./VariantSelector\";\nimport SilentSwitch from \"./SilentSwitch\";\nimport {\n  getAnotherPlayerType,\n  getPlayerTypeColor,\n  PLAYER_TYPE,\n} from \"../lib/player\";\nimport curry from \"lodash/fp/curry\";\n\ninterface VariantSelectorModalProps {\n  contract: Contract;\n  onChange: (variant: BidVariant) => void;\n}\nconst VariantSelectorModal = (props: VariantSelectorModalProps) => {\n  const { contract, onChange } = props;\n  const handleChange = (variant: BidVariant) => {\n    onChange(variant);\n  };\n  const bid = getBid(contract.bidType);\n\n  if (!bid.variants) {\n    return null;\n  }\n\n  return (\n    <>\n      <VariantSelector\n        variants={bid.variants || []}\n        selected={contract.bidVariant}\n        onChange={handleChange}\n        render={(handleOpen) => (\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={handleOpen}\n            size=\"small\"\n          >\n            {upperCaseToWords(contract.bidVariant ?? \"Select variant\")}\n          </Button>\n        )}\n      />\n    </>\n  );\n};\n\nenum ACTION_TYPE {\n  DELETE = \"DELETE\",\n  CHANGE = \"CHANGE\",\n}\n\ntype ContractField = keyof UpdateContractProps;\ntype Field = ContractField | string;\ninterface ColumnDefinition {\n  field: Field;\n  headerName: string;\n  valueGetter?: (\n    contract: Contract,\n    onAction?: (actionType: ACTION_TYPE, value?: any) => void\n  ) => React.ReactNode;\n}\nconst columns: ColumnDefinition[] = [\n  {\n    field: \"bidType\",\n    headerName: \"Bid\",\n    valueGetter: (contract: Contract) => upperCaseToWords(contract.bidType),\n  },\n  {\n    field: \"bidVariant\",\n    headerName: \"Variant\",\n    valueGetter: (contract, onAction) => {\n      const handleChange = (variant: BidVariant) =>\n        onAction && onAction(ACTION_TYPE.CHANGE, variant);\n\n      return (\n        <VariantSelectorModal contract={contract} onChange={handleChange} />\n      );\n    },\n  },\n  {\n    field: \"taker\",\n    headerName: \"Taker\",\n    valueGetter: (contract, onAction) => {\n      const newTaker = getAnotherPlayerType(contract.taker);\n      const handleClick = () =>\n        onAction && onAction(ACTION_TYPE.CHANGE, newTaker);\n      const color = getPlayerTypeColor(contract.taker);\n      return (\n        <Button color={color} onClick={handleClick}>\n          {contract.taker}\n        </Button>\n      );\n    },\n  },\n  {\n    field: \"silent\",\n    headerName: \"Silent\",\n    valueGetter: (contract, onAction) => {\n      const handleChange = (silent: boolean) =>\n        onAction && onAction(ACTION_TYPE.CHANGE, silent);\n      return (\n        <SilentSwitch\n          bidType={contract.bidType}\n          onChange={handleChange}\n          value={contract.silent}\n        />\n      );\n    },\n  },\n  {\n    field: \"bidBaseScore\",\n    headerName: \"Base Score\",\n  },\n  {\n    headerName: \"Contra\",\n    field: \"contra\",\n    valueGetter: (contract, onAction) => {\n      const handleClick = (contra: number) =>\n        onAction && onAction(ACTION_TYPE.CHANGE, contra);\n      const handleDivide = () =>\n        contract.contra > 1 && handleClick(contract.contra / 2);\n      const handleDouble = () => handleClick(contract.contra * 2);\n      return (\n        <>\n          <T\n            component={contract.silent === true ? \"s\" : \"span\"}\n            color={contract.silent === true ? \"textPrimary\" : \"textSecondary\"}\n          >\n            {contract.contra}\n          </T>\n          <IconButton\n            title=\"Double\"\n            onClick={handleDouble}\n            disabled={contract.silent}\n          >\n            <DoubleContraIcon />\n          </IconButton>\n          <IconButton\n            title=\"Divide by 2\"\n            onClick={handleDivide}\n            disabled={contract.contra === 1 || contract.silent}\n          >\n            <DivideContraIcon />\n          </IconButton>\n        </>\n      );\n    },\n  },\n  {\n    field: \"winByTaker\",\n    headerName: \"Win by the Taker?\",\n    valueGetter: (contract, onAction) => {\n      const { winByTaker, taker } = contract;\n      const handleClick = () => {\n        const nextValue =\n          winByTaker === null ? true : winByTaker === true ? false : null;\n        onAction && onAction(ACTION_TYPE.CHANGE, nextValue);\n      };\n\n      const title =\n        winByTaker === true\n          ? \"Won by the Taker!\"\n          : winByTaker === false\n          ? \"Lose by the Taker!\"\n          : \"Still unknown / Not count in final score...\";\n\n      return (\n        <Checkbox\n          title={title}\n          checked={winByTaker === true}\n          indeterminate={winByTaker === null}\n          onClick={handleClick}\n          color={taker === PLAYER_TYPE.DECLARER ? \"primary\" : \"secondary\"}\n        />\n      );\n    },\n  },\n  {\n    field: \"takerScore\",\n    headerName: \"Taker score\",\n    valueGetter: (contract) => (\n      <T\n        variant=\"button\"\n        color={\n          contract.taker === PLAYER_TYPE.DECLARER ? \"primary\" : \"secondary\"\n        }\n      >\n        {calculateContract(contract)}\n      </T>\n    ),\n  },\n  {\n    field: \"actions\",\n    headerName: \" \",\n    valueGetter: (_, onAction) => {\n      const handleClick = () => onAction && onAction(ACTION_TYPE.DELETE, null);\n      return (\n        <IconButton title=\"Remove\" onClick={handleClick}>\n          <RemoveIcon />\n        </IconButton>\n      );\n    },\n  },\n];\n\nconst isContractField = (\n  field: Field,\n  contract: Contract\n): field is ContractField => {\n  return field in contract;\n};\n\ninterface ContractsTableProps {\n  contracts: Contract[];\n  onChange: (index: number, field: keyof Contract, value: any) => void;\n  onDelete: (index: number) => void;\n}\nconst ContractsTable = (props: ContractsTableProps) => {\n  const { contracts, onChange, onDelete } = props;\n\n  function handleAction(\n    index: number,\n    field: ContractField | null,\n    actionType: ACTION_TYPE,\n    value: any\n  ) {\n    if (actionType === ACTION_TYPE.DELETE) {\n      return onDelete(index);\n    }\n    if (actionType === ACTION_TYPE.CHANGE && field !== null) {\n      return onChange(index, field, value);\n    }\n    throw new Error(\n      `Invalid if ACTION_TYPE (${actionType}) is CHANGE the field can not be null.`\n    );\n  }\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            {columns.map((column, index) => (\n              <TableCell key={index}> {column.headerName} </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {contracts.map((contract, rowIndex) => (\n            <TableRow key={rowIndex}>\n              {columns.map((column, cellIndex) => (\n                <TableCell key={cellIndex}>\n                  {isContractField(column.field, contract)\n                    ? column.valueGetter\n                      ? column.valueGetter(\n                          contract,\n                          curry(handleAction)(rowIndex)(column.field)\n                        )\n                      : contract[column.field]\n                    : column.valueGetter\n                    ? column.valueGetter(\n                        contract,\n                        curry(handleAction)(rowIndex)(null)\n                      )\n                    : \" \"}\n                </TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default ContractsTable;\n","import React, { ChangeEvent, useState, ReactNode } from \"react\";\nimport {\n  FormControlLabel,\n  RadioGroup,\n  Radio,\n  Button,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { BidVariant } from \"../lib/bid\";\nimport { upperCaseToWords } from \"../lib/util\";\n\ninterface VariantSelectorProps {\n  render: (handleOpen: () => void) => ReactNode;\n  variants: BidVariant[];\n  selected: BidVariant | null;\n  onChange: (variant: BidVariant) => void;\n  onClose?: () => void;\n}\nconst VariantSelector = (props: VariantSelectorProps) => {\n  const { variants, selected, onChange, render, onClose } = props;\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    onClose && onClose();\n  };\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onChange(event.target.value as BidVariant);\n    handleClose();\n  };\n\n  return (\n    <>\n      {render(handleOpen)}\n      <Dialog open={open} onClose={handleClose}>\n        <DialogContent>\n          <RadioGroup name=\"variants\" onChange={handleChange} value={selected}>\n            {variants.map((variant: BidVariant) => (\n              <FormControlLabel\n                control={<Radio value={variant} />}\n                label={upperCaseToWords(variant)}\n              />\n            ))}\n          </RadioGroup>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default VariantSelector;\n","import React from \"react\";\nimport { Switch, FormControlLabel, FormGroup } from \"@material-ui/core\";\nimport { BID_TYPE, canSilent, getBid } from \"../lib/bid\";\n\ninterface SilentSwitchProps {\n  bidType: BID_TYPE;\n  onChange: (value: boolean) => void;\n  value?: boolean;\n  label?: boolean;\n}\nconst SilentSwitch = ({\n  bidType,\n  onChange,\n  value,\n  label,\n}: SilentSwitchProps) => {\n  const bid = getBid(bidType);\n  if (!canSilent(bid)) {\n    return null;\n  }\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={\n          <Switch\n            onChange={(event) => onChange(event.target.checked)}\n            checked={value}\n          />\n        }\n        label={label ? \"Silent\" : \"\"}\n      />\n    </FormGroup>\n  );\n};\nexport default SilentSwitch;\n","import React, { ChangeEvent } from \"react\";\nimport {\n  CALLED_TAROCK,\n  Game,\n  UpdateGameProps,\n  PARTY_SCORE,\n  PARTY_SCORE_TYPE,\n} from \"../lib/game\";\nimport {\n  Grid,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormLabel,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n} from \"@material-ui/core\";\nimport { upperCaseToWords } from \"../lib/util\";\n\nconst calledTarockOptions = [\"_None_\", ...Object.keys(CALLED_TAROCK)];\nconst partyScoreOptions = Object.keys(PARTY_SCORE);\n\ninterface GamePropertiesProps {\n  game: Game;\n  onChange: (property: keyof UpdateGameProps, value: any) => void;\n}\nconst GameProperties = (props: GamePropertiesProps) => {\n  const { game, onChange } = props;\n  return (\n    <Grid container spacing={3} alignContent=\"space-around\">\n      <Grid item>\n        <FormControl>\n          <InputLabel id=\"called-tarock-selector\">Called</InputLabel>\n          <Select\n            value={game.called_tarock || \"_None_\"}\n            onChange={(event: ChangeEvent<{ value: string }>) => {\n              onChange(\"called_tarock\", event.target.value);\n            }}\n            labelId=\"called-tarock-selector\"\n          >\n            {calledTarockOptions.map((option) => (\n              <MenuItem key={option} value={option}>\n                {option === \"_None_\" ? \"None\" : option}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Party Score</FormLabel>\n          <RadioGroup\n            row\n            value={game.partyScoreType}\n            onChange={(event: ChangeEvent<HTMLInputElement>) => {\n              onChange(\n                \"partyScoreType\",\n                event.target.value as PARTY_SCORE_TYPE\n              );\n            }}\n          >\n            {partyScoreOptions.map((option: PARTY_SCORE_TYPE) => (\n              <FormControlLabel\n                key={option}\n                value={option}\n                control={<Radio />}\n                label={upperCaseToWords(option)}\n              />\n            ))}\n          </RadioGroup>\n        </FormControl>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GameProperties;\n","import React from \"react\";\nimport { Game } from \"../lib/game\";\nimport { Grid, Chip, Typography as T } from \"@material-ui/core\";\nimport { PLAYER_TYPE } from \"../lib/player\";\n\ninterface GameScoreProps {\n  game: Game;\n}\nconst GameScore = ({ game }: GameScoreProps) => {\n  const {scores} = game;\n  return (\n    <Grid container direction=\"column\">\n      <Grid item container alignItems=\"center\" spacing={1}>\n        <Grid item>\n          <T color=\"primary\" display=\"inline\" variant=\"h6\">\n            Declarers:{\" \"}\n          </T>\n        </Grid>\n        <Grid item>\n          {scores[PLAYER_TYPE.DECLARER] !== null ? (\n            <Chip\n              color=\"primary\"\n              size=\"small\"\n              variant=\"outlined\"\n              label={scores[PLAYER_TYPE.DECLARER]}\n            />\n          ) : null}\n        </Grid>\n      </Grid>\n      <Grid item container alignItems=\"center\" spacing={1}>\n        <Grid item>\n          <T color=\"secondary\" display=\"inline\" variant=\"h6\">\n            Opponents:{\" \"}\n          </T>\n        </Grid>\n        <Grid item>\n          {scores[PLAYER_TYPE.OPPONENT] !== null ? (\n            <Chip\n              color=\"secondary\"\n              size=\"small\"\n              variant=\"outlined\"\n              label={scores[PLAYER_TYPE.OPPONENT]}\n            />\n          ) : null}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GameScore;\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  Grid,\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { Game } from \"../lib/game\";\nimport {\n  createPlayerList,\n  getPlayerTypeColor,\n  Player,\n  PLAYER_TYPE,\n  rotatePlayerTypeWithNull,\n} from \"../lib/player\";\n\ninterface PlayerItemProps {\n  player: Player;\n  playerType: PLAYER_TYPE | null;\n  onRemove: (player: Player) => void;\n  onChange: (player: Player, playerType: PLAYER_TYPE | null) => void;\n}\nconst PlayerItem = (props: PlayerItemProps) => {\n  const { player, playerType, onRemove, onChange } = props;\n  const handleRemove = () => onRemove(player);\n  const handleChange = () =>\n    onChange(player, rotatePlayerTypeWithNull(playerType));\n  const color = getPlayerTypeColor(playerType);\n  return (\n    <>\n      <Chip\n        color={color}\n        label={player}\n        variant=\"default\"\n        onDelete={handleRemove}\n        onClick={handleChange}\n      />\n    </>\n  );\n};\n\ninterface AddPlayerDialogProps {\n  open: boolean;\n  onAdd: (player: Player) => void;\n  onClose: () => void;\n}\nconst AddPlayerDialog = ({ open, onAdd, onClose }: AddPlayerDialogProps) => {\n  const [player, setPlayer] = useState(\"\");\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setPlayer(event.target.value);\n  };\n  const handleClose = () => {\n    setPlayer(\"\");\n    onClose();\n  };\n  const handleAdd = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    onAdd(player);\n    setPlayer(\"\");\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogTitle>Add Player</DialogTitle>\n      <DialogContent>\n        <form onSubmit={handleAdd} >\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"Player Name\"\n          value={player}\n          onChange={handleChange}\n        />\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\ninterface PlayersProps {\n  players: Player[];\n  game: Game;\n  onPlayerAdd: (player: Player) => void;\n  onPlayerRemove: (player: Player) => void;\n  onPlayerChange: (player: Player, playerType: PLAYER_TYPE | null) => void;\n}\nconst Players = (props: PlayersProps) => {\n  const { players, onPlayerAdd, onPlayerChange, onPlayerRemove, game } = props;\n  const [open, setOpen] = useState<boolean>(false);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleOpen = () => setOpen(true);\n  const handlePlayerAdd = (player: Player) => {\n    setOpen(false);\n    onPlayerAdd(player);\n  };\n  const playerList = createPlayerList(players, game.declarers, game.opponents);\n  return (\n    <Grid container spacing={3}>\n      <AddPlayerDialog\n        open={open}\n        onAdd={handlePlayerAdd}\n        onClose={handleClose}\n      />\n      <Grid item>\n        <Button variant=\"contained\" onClick={handleOpen}>\n          Add Player\n        </Button>\n      </Grid>\n      <Grid item>\n        {playerList.map(({ player, playerType }) => (\n          <PlayerItem\n            key={player}\n            onChange={onPlayerChange}\n            onRemove={onPlayerRemove}\n            player={player}\n            playerType={playerType}\n          />\n        ))}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Players;\n","import { Game } from \"./game\";\nimport { Player, PlayerScore, PLAYER_TYPE } from \"./player\";\nimport fromPairs from \"lodash/fp/fromPairs\";\nimport assignWith from \"lodash/assignWith\";\nimport mapValues from \"lodash/fp/mapValues\";\n\nexport type GameScorePerPlayer = { [keyof: string]: PlayerScore };\nexport const getPlayersScores = (game: Game): GameScorePerPlayer => {\n  const opponents = game.opponents.map((p) => [\n    p,\n    game.scores[PLAYER_TYPE.OPPONENT] || null,\n  ]);\n  const declarers = game.declarers.map((p) => [\n    p,\n    game.scores[PLAYER_TYPE.DECLARER] || null,\n  ]);\n  return {\n    ...fromPairs(opponents),\n    ...fromPairs(declarers),\n  };\n};\n\nconst defined = (value: any): boolean => value !== undefined && value !== null;\n\nconst scoreAssigner = (\n  value1: number | undefined | null,\n  value2: number | undefined | null\n): number => {\n  value1 = defined(value1) ? value1 : 0;\n  value2 = defined(value2) ? value2 : 0;\n\n  return (value1 as number) + (value2 as number);\n};\n\nconst baseScoreAdder = (baseScore: number) => (score: number | null) => {\n  score = defined(score) ? score : 0;\n  return (score as number) + baseScore;\n};\n\nexport const addBaseScore = (baseScore: number) => (\n  sumPlayersScore: GameScorePerPlayer\n): GameScorePerPlayer => mapValues(baseScoreAdder(baseScore))(sumPlayersScore);\n\nexport const sumPlayerScores = (\n  gameScoreList: GameScorePerPlayer[]\n): GameScorePerPlayer => assignWith({}, ...gameScoreList, scoreAssigner);\n\nexport const getAllPlayers = (\n  gameScoreList: GameScorePerPlayer[]\n): Player[] => {\n  const players = gameScoreList.reduce((players, gameScorePerPlayer) => {\n    Object.keys(gameScorePerPlayer).forEach((p) => players.add(p));\n    return players;\n  }, new Set<Player>());\n  return [...players.values()];\n};\n","import {\n  TableContainer,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport {\n  addBaseScore,\n  GameScorePerPlayer,\n  getAllPlayers,\n  sumPlayerScores,\n} from \"../lib/gameList\";\nimport sortBy from \"lodash/sortBy\";\n\nconst BASE_SCORE = 100;\n\ninterface ScoreSheetProps {\n  gameScoreList: GameScorePerPlayer[];\n}\nconst ScoreSheet = ({ gameScoreList }: ScoreSheetProps) => {\n  const players = sortBy(getAllPlayers(gameScoreList));\n  const sum = addBaseScore(BASE_SCORE)(sumPlayerScores(gameScoreList));\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>Game</TableCell>\n            {players.map((player) => (\n              <TableCell key={player}>{`${player} (${\n                sum[player] === undefined ? \"\" : sum[player]\n              })`}</TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {gameScoreList.map((scores, index) => (\n            <TableRow key={index}>\n              <TableCell>{index + 1}</TableCell>\n              {players.map((player) => (\n                <TableCell key={player}>\n                  {scores[player] === undefined ? \" \" : scores[player]}\n                </TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default ScoreSheet;\n","import React, { useState } from \"react\";\nimport { BID_TYPE, getAllBidsByGorup } from \"../lib/bid\";\nimport ContractSelector from \"./ContractSelector\";\nimport {\n  Game,\n  createGame,\n  addContract,\n  updateGame,\n  updateGameContract,\n  removeContract,\n  removePlayer,\n  addPlayer,\n  UpdateGameProps,\n  removeAllContract,\n  isPartyLike,\n  addContractFlipped,\n} from \"../lib/game\";\nimport { Contract, createContract, updateContract } from \"../lib/contract\";\nimport { Button, Grid } from \"@material-ui/core\";\nimport ContractsTable from \"./ContractsTable\";\nimport GameProperties from \"./GameProperties\";\nimport flow from \"lodash/fp/flow\";\nimport uniq from \"lodash/fp/uniq\";\nimport GameScore from \"./GameScore\";\nimport Players from \"./Players\";\nimport { Player, PLAYER_TYPE } from \"../lib/player\";\nimport { GameScorePerPlayer, getPlayersScores } from \"../lib/gameList\";\nimport ScoreSheet from \"./ScoreSheet\";\n\nconst allBidsByGroup = getAllBidsByGorup();\n\nconst TarockSheet = () => {\n  const [game, setGame] = useState<Game>(createGame());\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [gameScoreList, setGameScoreList] = useState<GameScorePerPlayer[]>([]);\n\n  const handleContractDelete = (index: number) =>\n    setGame(removeContract(game)(index));\n  const handleResetGame = () => setGame(createGame());\n  const handleAddPlayer = (player: Player) =>\n    setPlayers((prev) => uniq([...prev, player]));\n  const handleRemovePlayer = (player: Player) =>\n    setPlayers((prev) => prev.filter((p) => p !== player));\n  const handleChangePlayer = (\n    player: Player,\n    playerType: PLAYER_TYPE | null\n  ) => {\n    if (playerType === null) {\n      setGame(removePlayer(player)(game));\n    } else {\n      setGame(addPlayer(player, playerType)(game));\n    }\n  };\n  const handleChangeGameProperties = (\n    prop: keyof UpdateGameProps,\n    value: any\n  ) => {\n    if (prop === \"partyScoreType\") {\n      const contract = isPartyLike(value)\n        ? createContract({\n            bidType: BID_TYPE.PARTY,\n            taker: PLAYER_TYPE.DECLARER,\n          })\n        : createContract({\n            bidType: BID_TYPE.KLOPICZKY,\n            taker: PLAYER_TYPE.DECLARER,\n          });\n      const updated = flow(\n        removeAllContract,\n        addContractFlipped(contract),\n        updateGame({ [prop]: value })\n      )(game);\n      setGame(updated);\n    } else {\n      setGame(updateGame({ [prop]: value })(game));\n    }\n  };\n  const handleAddContract = (contract: Contract) => {\n    return setGame(flow(createContract, addContract(game))(contract));\n  };\n  const handleChangeContract = (\n    index: number,\n    field: keyof Contract,\n    value: any\n  ) => {\n    setGame(\n      flow(\n        updateContract({ [field]: value }),\n        updateGameContract(game)(index)\n      )(game.contracts[index])\n    );\n  };\n  const handleSaveGame = () => {\n    setGameScoreList([...gameScoreList, getPlayersScores(game)]);\n    setGame(createGame());\n  };\n\n  return (\n    <Grid container spacing={3} direction=\"column\">\n      <Grid item>\n        <Grid item container spacing={1} direction=\"row\">\n          <Grid item>\n            <Button variant=\"contained\" onClick={handleResetGame}>\n              Reset Game\n            </Button>\n          </Grid>\n          <Grid item>\n            <GameProperties game={game} onChange={handleChangeGameProperties} />\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item>\n        <Players\n          players={players}\n          game={game}\n          onPlayerAdd={handleAddPlayer}\n          onPlayerRemove={handleRemovePlayer}\n          onPlayerChange={handleChangePlayer}\n        />\n      </Grid>\n      <Grid item container>\n        <Grid item>\n          <GameScore game={game} />\n        </Grid>\n        <Grid item>\n          <Button variant=\"contained\" onClick={handleSaveGame}>\n            Save Scores\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid item>\n        <ContractSelector\n          bidsByGroup={allBidsByGroup}\n          onAddContract={handleAddContract}\n        />\n      </Grid>\n      <Grid item>\n        <ContractsTable\n          contracts={game?.contracts as Contract[]}\n          onChange={handleChangeContract}\n          onDelete={handleContractDelete}\n        />\n      </Grid>\n      <Grid item>\n        <ScoreSheet gameScoreList={gameScoreList} />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default TarockSheet;\n","import React from \"react\";\nimport { AppBar, Container, makeStyles, Paper, Typography as T } from \"@material-ui/core\";\nimport { CgCardHearts as Icon } from \"react-icons/cg\";\nimport TarockSheet from \"./components/TarockSheet\";\n\nconst useAppStyle = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(4)\n  }\n}))\n\nfunction App() {\n  const classes = useAppStyle()\n  \n  return (\n    <>\n      <AppBar position=\"static\">\n        <T variant=\"h2\"><Icon color=\"red\" /> Tarock Sheet</T>\n      </AppBar>\n      <Container className={classes.container}>\n        <TarockSheet />\n      </Container>\n    </>\n  );\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}