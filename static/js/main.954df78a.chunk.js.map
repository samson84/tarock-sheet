{"version":3,"sources":["lib/bid.ts","lib/player.ts","lib/util.ts","lib/game.ts","components/VariantSelector.tsx","components/SilentSwitch.tsx","components/BidSelector.tsx","lib/contract.ts","components/ContractsTable.tsx","components/GameProperties.tsx","components/GameScore.tsx","components/Players.tsx","components/TarockSheet.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["BID_TYPE","SMALLEST_VARIANT","CARD_SHAPE_VARIANT","PLAYER_TYPE","SMALLEST_VARIANTS","PAGAT","EAGLE","CARD_SHAPE_VARIANTS","CLUB","DIAMOND","HEART","SPADE","BIDS","PARTY","score","party","TRULL","silent","FOUR_KING","CATCH_THE_MAYOR","CATCH_THE_PAGAT","ULTI","variants","UHU","DOUBLE_PARTY","VOLAT","PHEASANT","PHEASANT_IN_2ND","EIGHT_TAROCK","NINE_TAROCK","FURRY","CENTRUM","SMALL_BIRD","LARGE_BIRD","KING_ULTI","KING_UHU","CSUZIMA","KLOPICZKY","getBid","type","canSilent","bid","getBidScore","partyScore","hasVariant","variant","includes","makeFirstLetterCapital","word","length","split","first","rest","toUpperCase","join","toLowerCase","upperCaseToWords","upperCased","map","PARTY_SCORE_TYPE","getAnotherPlayerType","playerType","DECLARER","OPPONENT","getPlayerTypeColor","Map","get","VariantSelector","props","onChange","bidType","selected","RadioGroup","name","event","target","value","FormControlLabel","control","Radio","label","SilentSwitch","FormGroup","Switch","checked","useBidDetailsStyle","makeStyles","theme","modal","display","alignItems","justifyContent","card","backgroundColor","palette","background","default","padding","spacing","BidDetails","useState","open","setOpen","bidVariant","setBidVariant","undefined","setSilent","classes","onSubmit","reset","handleSubmit","taker","valid","Button","color","onClick","Modal","className","onClose","Card","CardHeader","title","CardContent","CardActions","bind","disabled","BidSelector","bids","onAddContract","Grid","container","item","validateContract","contract","contra","Error","Math","log2","createContract","validInFinalScore","winByTaker","bidBaseScore","flow","updateContract","updates","updated","calculateContract","withIndices","contracts","index","PARTY_LIKE_BIDS","filterByPartyLike","filter","ACTION_TYPE","PARTY_SCORE","TOOK_THREE","TOOK_TWO","TOOK_ONE","SOLO","createGame","declarers","opponents","partyScoreType","called_tarock","updateGame","game","handleKlopiczky","handlePartyLike","byTakerType","groupped","groupBy","groupByPlayerType","pick","Object","keys","isEqual","updateValidInFinalScore","reduce","prev","current","maxScore","abs","findMaxAbsScore","maxIndex","updateMapper","a","fromEntries","updateValidations","VariantSelectorModal","handleClose","Dialog","DialogContent","DialogActions","columns","field","headerName","valueGetter","onAction","CHANGE","newTaker","handleClick","component","IconButton","Checkbox","indeterminate","nextValue","_","DELETE","isContractField","ContractsTable","onDelete","handleAction","actionType","TableContainer","Table","TableHead","TableRow","column","TableCell","TableBody","rowIndex","cellIndex","curry","calledTarockOptions","XX","XIX","XVIII","XVII","XVI","XV","XIV","XIII","XII","partyScoreOptions","GameProperties","alignContent","FormControl","InputLabel","id","Select","labelId","option","MenuItem","FormLabel","row","GameScore","scores","addScore","prevScore","another","calculateGame","direction","Chip","size","PlayerItem","player","onRemove","rotatePlayerTypeWithNull","AddPlayerDialog","onAdd","setPlayer","DialogTitle","preventDefault","TextField","autoFocus","margin","Players","players","onPlayerAdd","onPlayerChange","onPlayerRemove","playerList","createPlayerList","allBids","sortBy","b","TarockSheet","setGame","setPlayers","hasGame","prop","uniq","p","removePlayer","key","otherKey","addPlayer","contractProps","addContract","i","updateGameContract","removeContract","useAppStyle","App","AppBar","position","Container","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.954df78a.chunk.js","sourcesContent":["export interface Bid extends BidData {\n  type: BID_TYPE;\n}\n\ninterface BidData {\n  score: number | ((party: number) => number);\n  variants?: BidVariant[];\n  silent?: boolean;\n}\n\nexport enum BID_TYPE {\n  PARTY = \"PARTY\",\n  TRULL = \"TRULL\",\n  FOUR_KING = \"FOUR_KING\",\n  CATCH_THE_MAYOR = \"CATCH_THE_MAYOR\",\n  CATCH_THE_PAGAT = \"CATCH_THE_PAGAT\",\n  ULTI = \"ULTI\",\n  UHU = \"UHU\",\n  DOUBLE_PARTY = \"DOUBLE_PARTY\",\n  VOLAT = \"VOLAT\",\n  PHEASANT = \"PHEASANT\",\n  PHEASANT_IN_2ND = \"PHEASANT_IN_2ND\",\n  EIGHT_TAROCK = \"EIGHT_TAROCK\",\n  NINE_TAROCK = \"NINE_TAROCK\",\n  FURRY = \"FURRY\",\n  CENTRUM = \"CENTRUM\",\n  SMALL_BIRD = \"SMALL_BIRD\",\n  LARGE_BIRD = \"LARGE_BIRD\",\n  CSUZIMA = \"CSUZIMA\",\n  KING_ULTI = \"KING_ULTI\",\n  KING_UHU = \"KING_UHU\",\n  KLOPICZKY = \"KLOPICZKY\",\n}\n\nexport enum SMALLEST_VARIANT {\n  PAGAT = \"PAGAT\",\n  EAGLE = \"EAGLE\",\n}\n\nexport enum CARD_SHAPE_VARIANT {\n  HEART = \"HEART\",\n  SPADE = \"SPADE\",\n  CLUB = \"CLUB\",\n  DIAMOND = \"DIAMOND\",\n}\n\nconst SMALLEST_VARIANTS = [SMALLEST_VARIANT.PAGAT, SMALLEST_VARIANT.EAGLE];\nconst CARD_SHAPE_VARIANTS = [\n  CARD_SHAPE_VARIANT.CLUB,\n  CARD_SHAPE_VARIANT.DIAMOND,\n  CARD_SHAPE_VARIANT.HEART,\n  CARD_SHAPE_VARIANT.SPADE,\n];\n\nexport type BidVariant = SMALLEST_VARIANT | CARD_SHAPE_VARIANT;\n\nconst BIDS: { [key in BID_TYPE]: BidData } = {\n  [BID_TYPE.PARTY]: { score: (party: number) => party },\n  [BID_TYPE.TRULL]: { score: 2, silent: true },\n  [BID_TYPE.FOUR_KING]: { score: 2, silent: true },\n  [BID_TYPE.CATCH_THE_MAYOR]: { score: 42, silent: true },\n  [BID_TYPE.CATCH_THE_PAGAT]: { score: 4 },\n  [BID_TYPE.ULTI]: {\n    score: 10,\n    variants: [...SMALLEST_VARIANTS],\n    silent: true,\n  },\n  [BID_TYPE.UHU]: { score: 15, variants: [...SMALLEST_VARIANTS] },\n  [BID_TYPE.DOUBLE_PARTY]: {\n    score: (party: number) => party * 4,\n    silent: true,\n  },\n  [BID_TYPE.VOLAT]: { score: (party: number) => party * 6, silent: true },\n  [BID_TYPE.PHEASANT]: { score: 50, variants: [...SMALLEST_VARIANTS] },\n  [BID_TYPE.PHEASANT_IN_2ND]: { score: 50, variants: [...SMALLEST_VARIANTS] },\n  [BID_TYPE.EIGHT_TAROCK]: { score: 1 },\n  [BID_TYPE.NINE_TAROCK]: { score: 2 },\n  [BID_TYPE.FURRY]: {\n    score: 25,\n    variants: [...CARD_SHAPE_VARIANTS],\n  },\n  [BID_TYPE.CENTRUM]: { score: 10 },\n  [BID_TYPE.SMALL_BIRD]: { score: 15 },\n  [BID_TYPE.LARGE_BIRD]: { score: 20 },\n  [BID_TYPE.KING_ULTI]: {\n    score: 15,\n    variants: [...CARD_SHAPE_VARIANTS],\n  },\n  [BID_TYPE.KING_UHU]: {\n    score: 20,\n    variants: [...CARD_SHAPE_VARIANTS],\n  },\n  [BID_TYPE.CSUZIMA]: { score: 4 },\n  [BID_TYPE.KLOPICZKY]: { score: 3 },\n};\n\nexport const getBid = (type: BID_TYPE): Bid => ({ type, ...BIDS[type] });\nexport const getAllBids = (): Bid[] =>\n  Object.keys(BID_TYPE).map((b: BID_TYPE) => getBid(b));\nexport const canSilent = (bid: Bid): boolean => bid?.silent === true;\nexport const getBidScore = (partyScore: number) => (bid: Bid): number =>\n  typeof bid.score === \"function\" ? bid.score(partyScore) : bid.score;\nexport const hasVariant = (variant: BidVariant) => (bid: Bid): boolean => {\n  const variants = bid?.variants || [];\n  return variants.includes(variant);\n};\n","export enum PLAYER_TYPE {\n  DECLARER = \"DECLARER\",\n  OPPONENT = \"OPPONENT\",\n}\nexport type Player = string;\n\nexport const getAnotherPlayerType = (playerType: PLAYER_TYPE): PLAYER_TYPE =>\n  playerType === PLAYER_TYPE.DECLARER\n    ? PLAYER_TYPE.OPPONENT\n    : PLAYER_TYPE.DECLARER;\n\nexport interface PlayerListItem {\n  player: Player;\n  playerType: PLAYER_TYPE | null;\n}\nexport type PlayerList = PlayerListItem[];\nexport const createPlayerList = (\n  players: Player[],\n  declarers: Player[],\n  opponents: Player[]\n): PlayerList => {\n  return players.map((player) => ({\n    player,\n    playerType: opponents.includes(player)\n      ? PLAYER_TYPE.OPPONENT\n      : declarers.includes(player)\n      ? PLAYER_TYPE.DECLARER\n      : null,\n  }));\n};\n\ntype PlayerTypeColor = \"primary\" | \"secondary\" | \"default\";\nexport const getPlayerTypeColor = (\n  playerType: PLAYER_TYPE | null\n): PlayerTypeColor => {\n  const mapper = new Map<PLAYER_TYPE | null, PlayerTypeColor>([\n    [PLAYER_TYPE.DECLARER, \"primary\"],\n    [PLAYER_TYPE.OPPONENT, \"secondary\"],\n    [null, \"default\"],\n  ]);\n  return mapper.get(playerType) || \"default\";\n};\n\nexport const rotatePlayerTypeWithNull = (\n  playerType: PLAYER_TYPE | null\n): PLAYER_TYPE | null => {\n  const mapper = new Map([\n    [PLAYER_TYPE.DECLARER, PLAYER_TYPE.OPPONENT],\n    [PLAYER_TYPE.OPPONENT, null],\n    [null, PLAYER_TYPE.DECLARER],\n  ]);\n  return mapper.get(playerType) || null;\n};\n","const makeFirstLetterCapital = (word: string): string => {\n  if (word.length < 1) {\n    return word\n  }\n  const [first, ...rest] = word.split(\"\")\n  return `${first.toUpperCase()}${rest.join(\"\").toLowerCase()}`\n}\n\nexport const upperCaseToWords = (upperCased: string): string => {\n  return upperCased\n    .split(\"_\")\n    .map(makeFirstLetterCapital)\n    .join(\" \")\n}\n","import { BID_TYPE } from \"./bid\";\nimport {\n  calculateContract,\n  Contract,\n  ContractWithIndex,\n  filterByPartyLike,\n  findMaxAbsScore,\n  groupByPlayerType,\n  updateBidBaseScore,\n  updateContract,\n  withIndices,\n  filterByProps\n} from \"./contract\";\nimport { getAnotherPlayerType, Player, PLAYER_TYPE } from \"./player\";\nimport flow from \"lodash/fp/flow\";\n\nexport interface Game {\n  contracts: Contract[];\n  declarers: Player[];\n  opponents: Player[];\n  partyScoreType: PARTY_SCORE_TYPE | null;\n  called_tarock: CalledTarockType | null;\n}\n\ntype CalledTarockType =\n  | \"XX\"\n  | \"XIX\"\n  | \"XVIII\"\n  | \"XVII\"\n  | \"XVI\"\n  | \"XV\"\n  | \"XIV\"\n  | \"XIII\"\n  | \"XII\";\n\nexport const CALLED_TAROCK: { [K in CalledTarockType]: CalledTarockType } = {\n  XX: \"XX\",\n  XIX: \"XIX\",\n  XVIII: \"XVIII\",\n  XVII: \"XVII\",\n  XVI: \"XVI\",\n  XV: \"XV\",\n  XIV: \"XIV\",\n  XIII: \"XIII\",\n  XII: \"XII\",\n};\n\nexport enum PARTY_SCORE_TYPE {\n  KLOPICZKY = \"KLOPICZKY\",\n  TOOK_THREE = \"TOOK_THREE\",\n  TOOK_TWO = \"TOOK_TWO\",\n  TOOK_ONE = \"TOOK_ONE\",\n  SOLO = \"SOLO\",\n}\nexport type PartyScoreValue = 0 | 1 | 2 | 3 | 4;\n\nexport const PARTY_SCORE: { [K in PARTY_SCORE_TYPE]: PartyScoreValue } = {\n  [PARTY_SCORE_TYPE.TOOK_THREE]: 1,\n  [PARTY_SCORE_TYPE.TOOK_TWO]: 2,\n  [PARTY_SCORE_TYPE.TOOK_ONE]: 3,\n  [PARTY_SCORE_TYPE.SOLO]: 4,\n  [PARTY_SCORE_TYPE.KLOPICZKY]: 0,\n};\n\ninterface CreateGameProps {\n  partyScoreType?: PARTY_SCORE_TYPE;\n  called_tarock?: CalledTarockType;\n}\nexport const createGame = (props: CreateGameProps = {}): Game => ({\n  contracts: [],\n  declarers: [],\n  opponents: [],\n  partyScoreType: props.partyScoreType || null,\n  called_tarock: props.called_tarock || null,\n});\n\nexport interface UpdateGameProps {\n  partyScoreType?: PARTY_SCORE_TYPE;\n  called_tarock?: CalledTarockType | null;\n}\nexport const updateGame = (updates: UpdateGameProps) => (game: Game): Game => {\n  const contracts =\n    updates.partyScoreType === undefined\n      ? game.contracts\n      : game.contracts.map(\n          updateBidBaseScore(PARTY_SCORE[updates.partyScoreType])\n        );\n\n  return {\n    ...game,\n    contracts: [...contracts],\n    ...updates,\n  };\n};\n\nexport const addPlayer = (player: Player, type: PLAYER_TYPE) => (\n  game: Game\n): Game => {\n  const key = type === PLAYER_TYPE.DECLARER ? \"declarers\" : \"opponents\";\n\n  const otherKey = type === PLAYER_TYPE.OPPONENT ? \"declarers\" : \"opponents\";\n\n  if (game[key].includes(player)) {\n    return { ...game };\n  }\n\n  return {\n    ...game,\n    [key]: [...game[key], player],\n    [otherKey]: game[otherKey].filter((p) => p !== player),\n  };\n};\n\nexport const removePlayer = (player: Player) => (game: Game): Game => ({\n  ...game,\n  opponents: game.opponents.filter((p) => p !== player),\n  declarers: game.declarers.filter((p) => p !== player),\n});\n\nexport const addContract = (game: Game) => (contract: Contract): Game => ({\n  ...game,\n  contracts: [...game.contracts, contract],\n});\n\nexport const removeContract = (game: Game) => (index: number): Game => ({\n  ...game,\n  contracts: game.contracts.filter((_, i) => i !== index),\n});\n\nexport const updateGameContract = (game: Game) => (index: number) => (\n  updated: Contract\n): Game => ({\n  ...game,\n  contracts: game.contracts.map((contract, i) =>\n    i === index ? { ...updated } : contract\n  ),\n});\n\ntype ValidationRule = (game: Game) => Contract[];\nconst handleKlopiczky: ValidationRule = (game) =>\n  game.contracts.map((contract) =>\n    updateContract({\n      validInFinalScore:\n        game.partyScoreType === PARTY_SCORE_TYPE.KLOPICZKY\n          ? contract.bidType === BID_TYPE.KLOPICZKY\n          : contract.bidType !== BID_TYPE.KLOPICZKY,\n    })(contract)\n  );\n\nconst handlePartyLike: ValidationRule = (game) => {\n  const nonContraWon = {\n    contra: 1,\n    winByTaker: true\n  }\n  const partyLike = flow(withIndices, filterByPartyLike, filterByProps(nonContraWon))(game.contracts);\n\n  const byTakerType = groupByPlayerType(partyLike);\n  const opponents = byTakerType[PLAYER_TYPE.OPPONENT] as ContractWithIndex[];\n  const declarers = byTakerType[PLAYER_TYPE.DECLARER] as ContractWithIndex[];\n  if (opponents.length < 2 && declarers.length < 2) {\n    return game.contracts;\n  }\n  const updateValidInFinalScore = (\n    contracts: ContractWithIndex[]\n  ): ContractWithIndex[] => {\n    const [maxScore, maxIndex] = findMaxAbsScore(contracts);\n    if (maxScore === null) {\n      return [];\n    }\n    return contracts.map(([contract, index]) => [\n      updateContract({ validInFinalScore: index === maxIndex })(contract),\n      index,\n    ]);\n  };\n  const updates = [\n    ...updateValidInFinalScore(opponents),\n    ...updateValidInFinalScore(declarers),\n  ];\n  const flip = (contracts: [unknown, unknown][]) =>\n    contracts.map(([a, b]) => [b, a]);\n  const updateMapper = flow(flip, Object.fromEntries)(updates);\n  return game.contracts.map((contract, index) => {\n    return updateMapper[index] === undefined ? contract : updateMapper[index];\n  });\n};\n\nconst VALIDATION_RULES: ValidationRule[] = [handleKlopiczky, handlePartyLike];\nexport const updateValidations = (game: Game): Game => {\n  // if the game is klopiczky it has higher prioriy than a party game,\n  // otherwise it is reversed\n  if (game.partyScoreType === PARTY_SCORE_TYPE.KLOPICZKY) {\n    game.contracts = handlePartyLike(game);\n    game.contracts = handleKlopiczky(game);\n  } else {\n    game.contracts = handleKlopiczky(game);\n    game.contracts = handlePartyLike(game);\n  }\n  return { ...game };\n};\n\ntype PlayerScore = number | null;\nexport interface GameScore {\n  [PLAYER_TYPE.DECLARER]: PlayerScore;\n  [PLAYER_TYPE.OPPONENT]: PlayerScore;\n}\nexport const calculateGame = (game: Game): GameScore => {\n  return game.contracts.reduce(\n    (partyScore, contract) => {\n      if (!contract.validInFinalScore) {\n        return partyScore;\n      }\n      const score = calculateContract(contract);\n      if (score === null) {\n        return partyScore;\n      }\n\n      const addScore = (prevScore: PlayerScore, score: PlayerScore): PlayerScore => {\n        if (prevScore === null) {return score}\n        else {\n          return score === null ? prevScore : score + prevScore\n        }\n      }\n\n      const taker = contract.taker;\n      const another = getAnotherPlayerType(taker);\n\n      return {\n        ...partyScore,\n        [taker]: addScore(partyScore[taker], score),\n        [another]: addScore(partyScore[another], score === null ? null: score * -1) \n      };\n    },\n    {\n      [PLAYER_TYPE.DECLARER]: null,\n      [PLAYER_TYPE.OPPONENT]: null,\n    }\n  );\n};\n","import React, { ChangeEvent } from \"react\";\nimport { FormControlLabel, RadioGroup, Radio } from \"@material-ui/core\";\nimport { BidVariant, BID_TYPE, getBid } from \"../lib/bid\";\n\ninterface VariantSelectorProps {\n  onChange: (value: BidVariant) => void;\n  bidType: BID_TYPE;\n  selected?: BidVariant | null;\n}\nconst VariantSelector = (props: VariantSelectorProps) => {\n  const {\n    onChange,\n    bidType,\n    selected = null,\n  } = props;\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onChange(event.target.value as BidVariant);\n  };\n  const bid = getBid(bidType);\n  if (!bid.variants) {\n    return null;\n  }\n  return (\n    <RadioGroup name=\"variants\" onChange={handleChange} value={selected}>\n      {bid.variants.map((variant) => (\n        <FormControlLabel control={<Radio value={variant} />} label={variant} />\n      ))}\n    </RadioGroup>\n  );\n};\n\nexport default VariantSelector;\n","import React from \"react\";\nimport { Switch, FormControlLabel, FormGroup } from \"@material-ui/core\";\nimport { BID_TYPE, canSilent, getBid } from \"../lib/bid\";\n\ninterface SilentSwitchProps {\n  bidType: BID_TYPE;\n  onChange: (value: boolean) => void;\n  value?: boolean;\n  label?: boolean;\n}\nconst SilentSwitch = ({\n  bidType,\n  onChange,\n  value,\n  label,\n}: SilentSwitchProps) => {\n  const bid = getBid(bidType);\n  if (!canSilent(bid)) {\n    return null;\n  }\n  return (\n    <FormGroup>\n      <FormControlLabel\n        control={\n          <Switch\n            onChange={(event) => onChange(event.target.checked)}\n            checked={value}\n          />\n        }\n        label={label ? \"Silent\" : \"\"}\n      />\n    </FormGroup>\n  );\n};\nexport default SilentSwitch;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  CardHeader,\n  Modal,\n  makeStyles,\n  Grid,\n} from \"@material-ui/core\";\n\nimport { Bid, BidVariant, hasVariant } from \"../lib/bid\";\nimport { upperCaseToWords } from \"../lib/util\";\nimport { Contract, CreateContractProps } from \"../lib/contract\";\nimport { PLAYER_TYPE } from \"../lib/player\";\nimport VariantSelector from \"./VariantSelector\";\nimport SilentSwitch from \"./SilentSwitch\";\n\nconst useBidDetailsStyle = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  card: {\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\ninterface BidDetailsProps {\n  bid: Bid;\n  onSubmit: (contract: Omit<CreateContractProps, \"partyScore\">) => void;\n}\nconst BidDetails = (props: BidDetailsProps) => {\n  const [open, setOpen] = useState(false);\n  const [bidVariant, setBidVariant] = useState<BidVariant | null>(null);\n  const [silent, setSilent] = useState<boolean | undefined>(undefined);\n  const classes = useBidDetailsStyle();\n  const { bid, onSubmit } = props;\n\n  const reset = () => {\n    setBidVariant(null);\n    setSilent(undefined);\n  };\n\n  const handleSubmit = (taker: PLAYER_TYPE) => {\n    setOpen(false);\n    reset();\n    onSubmit({ bidType: bid.type, taker, silent, bidVariant });\n  };\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    reset();\n    setOpen(false);\n  };\n\n  const valid = bid.variants\n    ? bidVariant === null\n      ? false\n      : hasVariant(bidVariant)(bid)\n    : true;\n\n  return (\n    <>\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleOpen}>\n        {upperCaseToWords(bid.type)}\n      </Button>\n      <Modal open={open} className={classes.modal} onClose={handleClose}>\n        <Card className={classes.card}>\n          <CardHeader title={upperCaseToWords(bid.type)} />\n          <CardContent>\n            <VariantSelector\n              bidType={bid.type}\n              onChange={setBidVariant}\n              selected={bidVariant}\n            />\n            <SilentSwitch bidType={bid.type} onChange={setSilent} label />\n          </CardContent>\n          <CardActions>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={handleSubmit.bind(null, PLAYER_TYPE.DECLARER)}\n              disabled={!valid}\n            >\n              Declarer\n            </Button>\n            <Button\n              color=\"secondary\"\n              variant=\"contained\"\n              onClick={handleSubmit.bind(null, PLAYER_TYPE.OPPONENT)}\n              disabled={!valid}\n            >\n              Opponent\n            </Button>\n            <Button variant=\"contained\" onClick={() => setOpen(false)}>\n              Cancel\n            </Button>\n          </CardActions>\n        </Card>\n      </Modal>\n    </>\n  );\n};\n\ninterface BidSelectorProps {\n  bids: Bid[];\n  onAddContract: (contract: Contract) => void;\n}\nconst BidSelector = ({ bids, onAddContract }: BidSelectorProps) => {\n  return (\n    <Grid container spacing={1}>\n      {bids.map((bid) => (\n        <Grid item key={bid.type}>\n          <BidDetails bid={bid} onSubmit={onAddContract} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default BidSelector;\n","import { PLAYER_TYPE } from \"./player\";\nimport {\n  BidVariant,\n  BID_TYPE,\n  canSilent,\n  hasVariant,\n  getBid,\n  getBidScore,\n} from \"./bid\";\nimport flow from \"lodash/fp/flow\";\nimport pick from \"lodash/fp/pick\";\nimport isEqual from \"lodash/fp/isEqual\";\nimport groupBy from \"lodash/fp/groupBy\";\nimport { PartyScoreValue } from \"./game\";\n\nconst CONTRA_NAMES = [\"None\", \"Contra\", \"Recontra\", \"Subcontra\", \"Mortcontra\"];\n\ntype ContraMultiplier = number;\nexport interface Contract {\n  bidType: BID_TYPE;\n  bidBaseScore: number | null;\n  bidVariant: BidVariant | null;\n  contra: ContraMultiplier;\n  winByTaker: boolean | null;\n  taker: PLAYER_TYPE;\n  silent: boolean;\n  validInFinalScore: boolean;\n}\n\nconst validateContract = (contract: Contract): void | undefined => {\n  const { silent, bidType, bidVariant, contra } = contract;\n  const bid = getBid(bidType);\n  if (silent && !canSilent(bid)) {\n    throw new Error(`${bid.type} can not be silent.`);\n  }\n  if (bidVariant && !hasVariant(bidVariant)(bid)) {\n    throw new Error(`${bid.type} does not have ${bidVariant} variant.`);\n  }\n  const isPowerOfTwo = Math.log2(contra) % 1 === 0;\n  if (!isPowerOfTwo) {\n    throw new Error(`Contra must be power of two, but ${contra} given.`);\n  }\n  if (contra < 1) {\n    throw new Error(`Contra must be greater than 1, but ${contra} given.`);\n  }\n};\n\nexport interface CreateContractProps {\n  bidType: BID_TYPE;\n  partyScore?: PartyScoreValue | null;\n  taker: PLAYER_TYPE;\n  silent?: boolean;\n  bidVariant?: BidVariant | null;\n  validInFinalScore?: boolean;\n}\nexport const createContract = ({\n  bidType,\n  taker,\n  partyScore = null,\n  silent = false,\n  bidVariant = null,\n  validInFinalScore = false,\n}: CreateContractProps): Contract => {\n  const contract = {\n    bidType,\n    bidVariant,\n    contra: 1,\n    silent,\n    winByTaker: null,\n    taker,\n    bidBaseScore:\n      partyScore !== null\n        ? flow(getBid, getBidScore(partyScore))(bidType)\n        : null,\n    validInFinalScore,\n  };\n  validateContract(contract);\n  return contract;\n};\n\nexport const updateBidBaseScore = (partyScore: PartyScoreValue) => (\n  contract: Contract\n): Contract => ({\n  ...contract,\n  bidBaseScore: flow(getBid, getBidScore(partyScore))(contract.bidType),\n});\n\nexport type UpdateContractProps = Partial<\n  Pick<\n    Contract,\n    | \"taker\"\n    | \"winByTaker\"\n    | \"silent\"\n    | \"bidVariant\"\n    | \"contra\"\n    | \"validInFinalScore\"\n  >\n>;\nexport const updateContract = (updates: UpdateContractProps) => (\n  contract: Contract\n): Contract => {\n  const updated = { ...contract, ...updates };\n  validateContract(updated);\n  return updated;\n};\n\nexport type ContractScore = number | null;\nexport const calculateContract = (contract: Contract): ContractScore => {\n  const { winByTaker, bidBaseScore, contra, silent } = contract;\n  if (winByTaker === null || bidBaseScore === null) {\n    return null;\n  }\n  const multiplier = silent ? 0.5 : contra;\n  const sign = winByTaker ? 1 : -1;\n  return sign * bidBaseScore * multiplier;\n};\n\nexport type ContractWithIndex = [Contract, number];\nexport const withIndices = (contracts: Contract[]): ContractWithIndex[] =>\n  contracts.map((contract, index) => [contract, index]);\n\nconst PARTY_LIKE_BIDS = [BID_TYPE.PARTY, BID_TYPE.DOUBLE_PARTY, BID_TYPE.VOLAT];\nexport const filterByPartyLike = (\n  contracts: ContractWithIndex[]\n): ContractWithIndex[] =>\n  contracts.filter(([contract, _]) =>\n    PARTY_LIKE_BIDS.includes(contract.bidType)\n  );\n\nexport const filterByProps = (props: Partial<Contract>) => (contracts: ContractWithIndex[]): ContractWithIndex[] => {\n  return contracts.filter(([contract, _]) => flow(\n      pick(Object.keys(props)),\n      isEqual(props)\n    )(contract)\n  )\n}\n\nexport const groupByPlayerType = (contracts: ContractWithIndex[]) => {\n  const groupped = groupBy(([contract]) => contract.taker)(contracts);\n  return {\n    [PLAYER_TYPE.DECLARER]: groupped[PLAYER_TYPE.DECLARER] || [],\n    [PLAYER_TYPE.OPPONENT]: groupped[PLAYER_TYPE.OPPONENT] || []\n  }\n}\n\n\nexport type MaxScoreWithIndex = [ContractScore, number];\nexport const findMaxAbsScore = (contracts: ContractWithIndex[]) => {\n  return contracts.reduce(\n    (\n      prev: MaxScoreWithIndex,\n      current: ContractWithIndex\n    ): MaxScoreWithIndex => {\n      const [maxScore] = prev;\n      const [contract, index] = current;\n      const score = calculateContract(contract);\n      return score !== null &&\n        (maxScore === null || Math.abs(score) >= Math.abs(maxScore))\n        ? [score, index]\n        : prev;\n    },\n    [null, -1]\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  calculateContract,\n  Contract,\n  UpdateContractProps,\n} from \"../lib/contract\";\nimport { upperCaseToWords } from \"../lib/util\";\nimport {\n  TableContainer,\n  TableHead,\n  TableBody,\n  Table,\n  TableCell,\n  TableRow,\n  IconButton,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Checkbox,\n  Typography as T,\n} from \"@material-ui/core\";\nimport {\n  MdDelete as RemoveIcon,\n  MdArrowUpward as DoubleContraIcon,\n  MdArrowDownward as DivideContraIcon,\n  MdCheck as ValidIcon,\n  MdClose as InvalidIcon\n} from \"react-icons/md\";\nimport { BidVariant } from \"../lib/bid\";\nimport VariantSelector from \"./VariantSelector\";\nimport SilentSwitch from \"./SilentSwitch\";\nimport { getAnotherPlayerType, getPlayerTypeColor, PLAYER_TYPE } from \"../lib/player\";\nimport curry from \"lodash/fp/curry\";\n\ninterface VariantSelectorModalProps {\n  contract: Contract;\n  onChange: (variant: BidVariant) => void;\n}\nconst VariantSelectorModal = (props: VariantSelectorModalProps) => {\n  const { contract, onChange } = props;\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const handleChange = (variant: BidVariant) => {\n    onChange(variant);\n    handleClose();\n  };\n\n  return (\n    <>\n      <Button onClick={handleOpen}>\n        {upperCaseToWords(contract.bidVariant || \"\")}\n      </Button>\n      <Dialog open={open} onClose={handleClose}>\n        <DialogContent>\n          <VariantSelector\n            onChange={handleChange}\n            selected={contract.bidVariant}\n            bidType={contract.bidType}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nenum ACTION_TYPE {\n  DELETE = \"DELETE\",\n  CHANGE = \"CHANGE\",\n}\n\ntype ContractField = keyof UpdateContractProps;\ntype Field = ContractField | string;\ninterface ColumnDefinition {\n  field: Field;\n  headerName: string;\n  valueGetter?: (\n    contract: Contract,\n    onAction?: (actionType: ACTION_TYPE, value?: any) => void\n  ) => React.ReactNode;\n}\nconst columns: ColumnDefinition[] = [\n  {\n    field: \"validInFinalScore\",\n    headerName: \"Valid?\",\n    valueGetter: (contract: Contract) => contract.validInFinalScore ? <ValidIcon/> : <InvalidIcon/>\n  },\n  {\n    field: \"bidType\",\n    headerName: \"Bid\",\n    valueGetter: (contract: Contract) => upperCaseToWords(contract.bidType),\n  },\n  {\n    field: \"bidVariant\",\n    headerName: \"Variant\",\n    valueGetter: (contract, onAction) => {\n      const handleChange = (variant: BidVariant) =>\n        onAction && onAction(ACTION_TYPE.CHANGE, variant);\n\n      return (\n        <VariantSelectorModal contract={contract} onChange={handleChange} />\n      );\n    },\n  },\n  {\n    field: \"taker\",\n    headerName: \"Taker\",\n    valueGetter: (contract, onAction) => {\n      const newTaker = getAnotherPlayerType(contract.taker)\n      const handleClick = () =>\n        onAction && onAction(ACTION_TYPE.CHANGE, newTaker);\n      const color = getPlayerTypeColor(contract.taker);\n      return (\n        <Button color={color} onClick={handleClick}>\n          {contract.taker}\n        </Button>\n      );\n    },\n  },\n  {\n    field: \"silent\",\n    headerName: \"Silent\",\n    valueGetter: (contract, onAction) => {\n      const handleChange = (silent: boolean) =>\n        onAction && onAction(ACTION_TYPE.CHANGE, silent);\n      return (\n        <SilentSwitch\n          bidType={contract.bidType}\n          onChange={handleChange}\n          value={contract.silent}\n        />\n      );\n    },\n  },\n  {\n    field: \"bidBaseScore\",\n    headerName: \"Base Score\",\n  },\n  {\n    headerName: \"Contra\",\n    field: \"contra\",\n    valueGetter: (contract, onAction) => {\n      const handleClick = (contra: number) =>\n        onAction && onAction(ACTION_TYPE.CHANGE, contra);\n      const handleDivide = () =>\n        contract.contra > 1 && handleClick(contract.contra / 2);\n      const handleDouble = () => handleClick(contract.contra * 2);\n      return (\n        <>\n          <T\n            component={contract.silent === true ? \"s\" : \"span\"}\n            color={contract.silent === true ? \"textPrimary\" : \"textSecondary\"}\n          >\n            {contract.contra}\n          </T>\n          <IconButton\n            title=\"Double\"\n            onClick={handleDouble}\n            disabled={contract.silent}\n          >\n            <DoubleContraIcon />\n          </IconButton>\n          <IconButton\n            title=\"Divide by 2\"\n            onClick={handleDivide}\n            disabled={contract.contra === 1 || contract.silent}\n          >\n            <DivideContraIcon />\n          </IconButton>\n        </>\n      );\n    },\n  },\n  {\n    field: \"winByTaker\",\n    headerName: \"Win by the Taker?\",\n    valueGetter: (contract, onAction) => {\n      const { winByTaker, taker } = contract;\n      const handleClick = () => {\n        const nextValue =\n          winByTaker === null ? true : winByTaker === true ? false : null;\n        onAction && onAction(ACTION_TYPE.CHANGE, nextValue);\n      };\n\n      const title =\n        winByTaker === true\n          ? \"Won by the Taker!\"\n          : winByTaker === false\n          ? \"Lose by the Taker!\"\n          : \"Indeterminate...\";\n\n      return (\n        <Checkbox\n          title={title}\n          checked={winByTaker === true}\n          indeterminate={winByTaker === null}\n          onClick={handleClick}\n          color={taker === PLAYER_TYPE.DECLARER ? \"primary\" : \"secondary\"}\n        />\n      );\n    },\n  },\n  {\n    field: \"takerScore\",\n    headerName: \"Taker score\",\n    valueGetter: (contract) => (\n      <T\n        variant=\"button\"\n        color={\n          contract.taker === PLAYER_TYPE.DECLARER ? \"primary\" : \"secondary\"\n        }\n      >\n        {calculateContract(contract)}\n      </T>\n    ),\n  },\n  {\n    field: \"actions\",\n    headerName: \" \",\n    valueGetter: (_, onAction) => {\n      const handleClick = () => onAction && onAction(ACTION_TYPE.DELETE, null);\n      return (\n        <IconButton title=\"Remove\" onClick={handleClick}>\n          <RemoveIcon />\n        </IconButton>\n      );\n    },\n  },\n];\n\nconst isContractField = (\n  field: Field,\n  contract: Contract\n): field is ContractField => {\n  return field in contract;\n};\n\ninterface ContractsTableProps {\n  contracts: Contract[];\n  onChange: (index: number, field: keyof Contract, value: any) => void;\n  onDelete: (index: number) => void;\n}\nconst ContractsTable = (props: ContractsTableProps) => {\n  const { contracts, onChange, onDelete } = props;\n\n  function handleAction(\n    index: number,\n    field: ContractField | null,\n    actionType: ACTION_TYPE,\n    value: any\n  ) {\n    if (actionType === ACTION_TYPE.DELETE) {\n      return onDelete(index);\n    }\n    if (actionType === ACTION_TYPE.CHANGE && field !== null) {\n      return onChange(index, field, value);\n    }\n    throw new Error(\n      `Invalid if ACTION_TYPE (${actionType}) is CHANGE the field can not be null.`\n    );\n  }\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            {columns.map((column, index) => (\n              <TableCell key={index}> {column.headerName} </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {contracts.map((contract, rowIndex) => (\n            <TableRow key={rowIndex}>\n              {columns.map((column, cellIndex) => (\n                <TableCell key={cellIndex}>\n                  {isContractField(column.field, contract)\n                    ? column.valueGetter\n                      ? column.valueGetter(\n                          contract,\n                          curry(handleAction)(rowIndex)(column.field)\n                        )\n                      : contract[column.field]\n                    : column.valueGetter\n                    ? column.valueGetter(\n                        contract,\n                        curry(handleAction)(rowIndex)(null)\n                      )\n                    : \" \"}\n                </TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default ContractsTable;\n","import React, { ChangeEvent } from \"react\";\nimport {\n  CALLED_TAROCK,\n  Game,\n  UpdateGameProps,\n  PARTY_SCORE,\n  PARTY_SCORE_TYPE,\n} from \"../lib/game\";\nimport {\n  Grid,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormLabel,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n} from \"@material-ui/core\";\nimport { upperCaseToWords } from \"../lib/util\";\n\nconst calledTarockOptions = [\"_None_\", ...Object.keys(CALLED_TAROCK)];\nconst partyScoreOptions = Object.keys(PARTY_SCORE);\n\ninterface GamePropertiesProps {\n  game: Game;\n  onChange: (property: keyof UpdateGameProps, value: any) => void;\n}\nconst GameProperties = (props: GamePropertiesProps) => {\n  const { game, onChange } = props;\n  return (\n    <Grid container spacing={3} alignContent=\"space-around\">\n      <Grid item>\n        <FormControl>\n          <InputLabel id=\"called-tarock-selector\">Called</InputLabel>\n          <Select\n            value={game.called_tarock || \"_None_\"}\n            onChange={(event: ChangeEvent<{ value: string }>) => {\n              onChange(\"called_tarock\", event.target.value);\n            }}\n            labelId=\"called-tarock-selector\"\n          >\n            {calledTarockOptions.map((option) => (\n              <MenuItem key={option} value={option}>\n                {option === \"_None_\" ? \"None\" : option}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Party Score</FormLabel>\n          <RadioGroup\n            row\n            value={game.partyScoreType}\n            onChange={(event: ChangeEvent<HTMLInputElement>) => {\n              onChange(\n                \"partyScoreType\",\n                event.target.value as PARTY_SCORE_TYPE\n              );\n            }}\n          >\n            {partyScoreOptions.map((option: PARTY_SCORE_TYPE) => (\n              <FormControlLabel\n                key={option}\n                value={option}\n                control={<Radio />}\n                label={upperCaseToWords(option)}\n              />\n            ))}\n          </RadioGroup>\n        </FormControl>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GameProperties;\n","import React from \"react\";\nimport { calculateGame, Game } from \"../lib/game\";\nimport { Grid, Chip, Typography as T } from \"@material-ui/core\";\nimport { PLAYER_TYPE } from \"../lib/player\";\n\ninterface GameScoreProps {\n  game: Game;\n}\nconst GameScore = ({ game }: GameScoreProps) => {\n  const scores = calculateGame(game);\n  return (\n    <Grid container direction=\"column\">\n      <Grid item container alignItems=\"center\" spacing={1}>\n        <Grid item>\n          <T color=\"primary\" display=\"inline\" variant=\"h6\">\n            Declarers:{\" \"}\n          </T>\n        </Grid>\n        <Grid item>\n          {scores[PLAYER_TYPE.DECLARER] !== null ? (\n            <Chip\n              color=\"primary\"\n              size=\"small\"\n              variant=\"outlined\"\n              label={scores[PLAYER_TYPE.DECLARER]}\n            />\n          ) : null}\n        </Grid>\n      </Grid>\n      <Grid item container alignItems=\"center\" spacing={1}>\n        <Grid item>\n          <T color=\"secondary\" display=\"inline\" variant=\"h6\">\n            Opponents:{\" \"}\n          </T>\n        </Grid>\n        <Grid item>\n          {scores[PLAYER_TYPE.DECLARER] !== null ? (\n            <Chip\n              color=\"secondary\"\n              size=\"small\"\n              variant=\"outlined\"\n              label={scores[PLAYER_TYPE.OPPONENT]}\n            />\n          ) : null}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GameScore;\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  Grid,\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { Game } from \"../lib/game\";\nimport {\n  createPlayerList,\n  getPlayerTypeColor,\n  Player,\n  PLAYER_TYPE,\n  rotatePlayerTypeWithNull,\n} from \"../lib/player\";\n\ninterface PlayerItemProps {\n  player: Player;\n  playerType: PLAYER_TYPE | null;\n  onRemove: (player: Player) => void;\n  onChange: (player: Player, playerType: PLAYER_TYPE | null) => void;\n}\nconst PlayerItem = (props: PlayerItemProps) => {\n  const { player, playerType, onRemove, onChange } = props;\n  const handleRemove = () => onRemove(player);\n  const handleChange = () =>\n    onChange(player, rotatePlayerTypeWithNull(playerType));\n  const color = getPlayerTypeColor(playerType);\n  return (\n    <>\n      <Chip\n        color={color}\n        label={player}\n        variant=\"default\"\n        onDelete={handleRemove}\n        onClick={handleChange}\n      />\n    </>\n  );\n};\n\ninterface AddPlayerDialogProps {\n  open: boolean;\n  onAdd: (player: Player) => void;\n  onClose: () => void;\n}\nconst AddPlayerDialog = ({ open, onAdd, onClose }: AddPlayerDialogProps) => {\n  const [player, setPlayer] = useState(\"\");\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setPlayer(event.target.value);\n  };\n  const handleClose = () => {\n    setPlayer(\"\");\n    onClose();\n  };\n  const handleAdd = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    onAdd(player);\n    setPlayer(\"\");\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <DialogTitle>Add Player</DialogTitle>\n      <DialogContent>\n        <form onSubmit={handleAdd} >\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"Player Name\"\n          value={player}\n          onChange={handleChange}\n        />\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\ninterface PlayersProps {\n  players: Player[];\n  game: Game;\n  onPlayerAdd: (player: Player) => void;\n  onPlayerRemove: (player: Player) => void;\n  onPlayerChange: (player: Player, playerType: PLAYER_TYPE | null) => void;\n}\nconst Players = (props: PlayersProps) => {\n  const { players, onPlayerAdd, onPlayerChange, onPlayerRemove, game } = props;\n  const [open, setOpen] = useState<boolean>(false);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleOpen = () => setOpen(true);\n  const handlePlayerAdd = (player: Player) => {\n    setOpen(false);\n    onPlayerAdd(player);\n  };\n  const playerList = createPlayerList(players, game.declarers, game.opponents);\n  return (\n    <Grid container spacing={3}>\n      <AddPlayerDialog\n        open={open}\n        onAdd={handlePlayerAdd}\n        onClose={handleClose}\n      />\n      <Grid item>\n        <Button variant=\"contained\" onClick={handleOpen}>\n          Add Player\n        </Button>\n      </Grid>\n      <Grid item>\n        {playerList.map(({ player, playerType }) => (\n          <PlayerItem\n            key={player}\n            onChange={onPlayerChange}\n            onRemove={onPlayerRemove}\n            player={player}\n            playerType={playerType}\n          />\n        ))}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Players;\n","import React, { useState } from \"react\";\nimport { getAllBids, Bid } from \"../lib/bid\";\nimport BidSelector from \"./BidSelector\";\nimport sortBy from \"lodash/fp/sortBy\";\nimport {\n  Game,\n  createGame,\n  addContract,\n  updateGame,\n  updateGameContract,\n  removeContract,\n  PARTY_SCORE,\n  updateValidations,\n  removePlayer,\n  addPlayer,\n} from \"../lib/game\";\nimport { Contract, createContract, updateContract } from \"../lib/contract\";\nimport { Button, Grid } from \"@material-ui/core\";\nimport ContractsTable from \"./ContractsTable\";\nimport GameProperties from \"./GameProperties\";\nimport flow from \"lodash/fp/flow\";\nimport uniq from \"lodash/fp/uniq\";\nimport GameScore from \"./GameScore\";\nimport Players from \"./Players\";\nimport { Player, PLAYER_TYPE } from \"../lib/player\";\n\nconst allBids = sortBy((b: Bid) => b.type)(getAllBids());\n\nconst TarockSheet = () => {\n  const [game, setGame] = useState<Game>(createGame());\n  const [players, setPlayers] = useState<Player[]>([]);\n\n  const handleContractDelete = (index: number) =>\n    setGame(flow(removeContract(game as Game), updateValidations)(index));\n  const handleResetGame = () => setGame(createGame());\n  const handleAddPlayer = (player: Player) =>\n    setPlayers((prev) => uniq([...prev, player]));\n  const handleRemovePlayer = (player: Player) =>\n    setPlayers((prev) => prev.filter((p) => p !== player));\n  const handleChangePlayer = (\n    player: Player,\n    playerType: PLAYER_TYPE | null\n  ) => {\n    if (playerType === null) {\n      setGame(removePlayer(player)(game));\n    } else {\n      setGame(addPlayer(player, playerType)(game));\n    }\n  };\n\n  const hasGame = game !== null;\n\n  return (\n    <Grid container spacing={3} direction=\"column\">\n      <Grid item>\n        <Grid item container spacing={1} direction=\"row\">\n          <Grid item>\n            <Button variant=\"contained\" onClick={handleResetGame}>\n              Reset Game\n            </Button>\n          </Grid>\n          <Grid item>\n            <GameProperties\n              game={game as Game}\n              onChange={(prop, value) => {\n                setGame(\n                  flow(\n                    updateGame({ [prop]: value }),\n                    updateValidations\n                  )(game as Game)\n                );\n              }}\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item>\n        <Players\n          players={players}\n          game={game}\n          onPlayerAdd={handleAddPlayer}\n          onPlayerRemove={handleRemovePlayer}\n          onPlayerChange={handleChangePlayer}\n        />\n      </Grid>\n      <Grid item>\n        <GameScore game={game} />\n      </Grid>\n      <Grid item>\n        {hasGame ? (\n          <>\n            <BidSelector\n              bids={allBids}\n              onAddContract={(contractProps) => {\n                const partyScore = game?.partyScoreType\n                  ? PARTY_SCORE[game?.partyScoreType]\n                  : null;\n                return setGame(\n                  flow(\n                    createContract,\n                    addContract(game as Game),\n                    updateValidations\n                  )({\n                    ...contractProps,\n                    partyScore,\n                  })\n                );\n              }}\n            />\n            <ContractsTable\n              contracts={game?.contracts as Contract[]}\n              onChange={(index, field, value) => {\n                setGame(\n                  flow(\n                    updateContract({ [field]: value }),\n                    updateGameContract(game as Game)(index),\n                    updateValidations\n                  )((game as Game).contracts[index])\n                );\n              }}\n              onDelete={handleContractDelete}\n            />\n          </>\n        ) : null}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default TarockSheet;\n","import React from \"react\";\nimport { AppBar, Container, makeStyles, Paper, Typography as T } from \"@material-ui/core\";\nimport { CgCardHearts as Icon } from \"react-icons/cg\";\nimport TarockSheet from \"./components/TarockSheet\";\n\nconst useAppStyle = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(4)\n  }\n}))\n\nfunction App() {\n  const classes = useAppStyle()\n  \n  return (\n    <>\n      <AppBar position=\"static\">\n        <T variant=\"h2\"><Icon color=\"red\" /> Tarock Sheet</T>\n      </AppBar>\n      <Container className={classes.container}>\n        <TarockSheet />\n      </Container>\n    </>\n  );\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}