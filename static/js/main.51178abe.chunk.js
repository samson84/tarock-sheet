(this["webpackJsonptarock-sheet"]=this["webpackJsonptarock-sheet"]||[]).push([[0],{359:function(e,n,t){"use strict";t.r(n);var r,c,a=t(3),o=t(1),i=t.n(o),u=t(14),l=t.n(u),s=t(414),j=t(415),O=t(77),b=t(416),d=t(194),f=t(9),h=t(16),p=t(13),v=t(95),T=t.n(v),E=t(184),y=t.n(E);!function(e){e.PARTY="PARTY",e.TRULL="TRULL",e.FOUR_KING="FOUR_KING",e.CATCH_THE_MAYOR="CATCH_THE_MAYOR",e.CATCH_THE_PAGAT="CATCH_THE_PAGAT",e.ULTI="ULTI",e.UHU="UHU",e.DOUBLE_PARTY="DOUBLE_PARTY",e.VOLAT="VOLAT",e.PHEASANT="PHEASANT",e.PHEASANT_IN_2ND="PHEASANT_IN_2ND",e.EIGHT_TAROCK="EIGHT_TAROCK",e.NINE_TAROCK="NINE_TAROCK",e.FURRY="FURRY",e.CENTRUM="CENTRUM",e.SMALL_BIRD="SMALL_BIRD",e.LARGE_BIRD="LARGE_BIRD",e.CSUZIMA="CSUZIMA",e.KING_ULTI="KING_ULTI",e.KING_UHU="KING_UHU",e.KLOPICZKY="KLOPICZKY"}(c||(c={}));var C,x,g={PARTY_LIKE:{weight:10},ULTI_LIKE:{weight:20},CENTRUM_LIKE:{weight:30},CATCHES:{weight:40},OTHERS:{weight:50}};!function(e){e.PAGAT="PAGAT",e.EAGLE="EAGLE"}(C||(C={})),function(e){e.HEART="HEART",e.SPADE="SPADE",e.CLUB="CLUB",e.DIAMOND="DIAMOND"}(x||(x={}));var S,m=[C.PAGAT,C.EAGLE],A=[x.CLUB,x.DIAMOND,x.HEART,x.SPADE],I=(r={},Object(f.a)(r,c.PARTY,{score:function(e){return e},group:"PARTY_LIKE"}),Object(f.a)(r,c.TRULL,{score:2,silent:!0}),Object(f.a)(r,c.FOUR_KING,{score:2,silent:!0}),Object(f.a)(r,c.CATCH_THE_MAYOR,{score:42,silent:!0,group:"CATCHES"}),Object(f.a)(r,c.CATCH_THE_PAGAT,{score:4,group:"CATCHES"}),Object(f.a)(r,c.ULTI,{score:10,variants:[].concat(m),silent:!0,group:"ULTI_LIKE",notWinIfSilent:!0}),Object(f.a)(r,c.UHU,{score:15,variants:[].concat(m),group:"ULTI_LIKE"}),Object(f.a)(r,c.DOUBLE_PARTY,{score:function(e){return 4*e},silent:!0,group:"PARTY_LIKE"}),Object(f.a)(r,c.VOLAT,{score:function(e){return 6*e},silent:!0,group:"PARTY_LIKE"}),Object(f.a)(r,c.PHEASANT,{score:20,variants:[].concat(m),group:"ULTI_LIKE"}),Object(f.a)(r,c.PHEASANT_IN_2ND,{score:20,variants:[].concat(m),group:"ULTI_LIKE"}),Object(f.a)(r,c.EIGHT_TAROCK,{score:1,winByDefault:!0,denyContra:!0}),Object(f.a)(r,c.NINE_TAROCK,{score:2,winByDefault:!0,denyContra:!0}),Object(f.a)(r,c.FURRY,{score:25,variants:[].concat(A),group:"ULTI_LIKE"}),Object(f.a)(r,c.CENTRUM,{score:10,group:"CENTRUM_LIKE"}),Object(f.a)(r,c.SMALL_BIRD,{score:10,group:"CENTRUM_LIKE"}),Object(f.a)(r,c.LARGE_BIRD,{score:10,group:"CENTRUM_LIKE"}),Object(f.a)(r,c.KING_ULTI,{score:15,variants:[].concat(A),group:"ULTI_LIKE"}),Object(f.a)(r,c.KING_UHU,{score:20,variants:[].concat(A),group:"ULTI_LIKE"}),Object(f.a)(r,c.CSUZIMA,{score:4}),Object(f.a)(r,c.KLOPICZKY,{score:3,winByDefault:!0,denyContra:!0}),r),R=function(e){return Object(p.a)({type:e},I[e])},L=function(e){return!0===(null===e||void 0===e?void 0:e.silent)},N=function(e){return function(n){return"function"===typeof n.score?n.score(e):n.score}},_=t(391),P=t(417),k=t(394),K=t(395),w=t(396),D=t(185),U=t(421),G=function(e){if(e.length<1)return e;var n=e.split(""),t=Object(D.a)(n),r=t[0],c=t.slice(1);return"".concat(r.toUpperCase()).concat(c.join("").toLowerCase())},H=function(e){return e.split("_").map(G).join(" ")},B=t(33);!function(e){e.DECLARER="DECLARER",e.OPPONENT="OPPONENT"}(S||(S={}));var Y,M,V=function(e){return function(n){return Object(p.a)(Object(p.a)({},n),e)}},X=function(e){return e===S.DECLARER?S.OPPONENT:S.DECLARER},F=function(e){return new Map([[S.DECLARER,"primary"],[S.OPPONENT,"secondary"],[null,"default"]]).get(e)||"default"},Z=function(e){var n=e.reduce((function(e,n){var t=Object(h.a)(e,2),r=t[0],c=t[1];return n.type===S.OPPONENT?[r,c+1]:n.type===S.DECLARER?[r+1,c]:[r,c]}),[0,0]),t=Object(h.a)(n,2);return[t[0],t[1]]},W=function(e){return e.map((function(e){return V({type:null})(e)}))},z=function(e){return e.map((function(e){return V({score:null})(e)}))},J=function(e){return e.filter((function(e){return null!==e.type}))},q=function(e){return e.reduce((function(e,n){return e[n.id]=n,e}),{})},Q=function(e){var n=e.bidsByGroup,t=e.onAddContract,r=Object(o.useState)(!1),c=Object(h.a)(r,2),i=c[0],u=c[1];return Object(a.jsxs)(_.a,{container:!0,spacing:1,alignItems:"flex-end",children:[y()((function(e){return g[e].weight}),Object.keys(g)).map((function(e){return Object(a.jsxs)(_.a,{item:!0,spacing:1,children:[Object(a.jsx)(O.a,{variant:"caption",display:"block",color:"textSecondary",children:H(e)}),n[e].map((function(e){return Object(a.jsx)(P.a,{component:"span",mr:.5,children:Object(a.jsx)(k.a,{variant:"outlined",color:"default",onClick:function(){return function(e){var n=R(e),r=i&&!n.notWinIfSilent;t({bidType:e,taker:S.DECLARER,silent:i&&L(n),bidVariant:null,winByTaker:n.winByDefault||r||null})}(e.type)},size:"small",disabled:i&&!L(e),children:H(e.type)})},e.type)}))]},e)})),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(K.a,{control:Object(a.jsx)(w.a,{checked:i,onChange:function(){u((function(e){return!e}))},name:"silentAndWinSwitch",color:"default"}),label:"Silent & Win"})})]})},$=t(26),ee=t.n($),ne=(t(189),t(190),function(e){var n,t=e.silent,r=e.bidType,c=e.bidVariant,a=e.contra,o=R(r);if(t&&!L(o))throw new Error("".concat(o.type," can not be silent."));if(c&&!(n=c,function(e){return((null===e||void 0===e?void 0:e.variants)||[]).includes(n)})(o))throw new Error("".concat(o.type," does not have ").concat(c," variant."));if(!(Math.log2(a)%1===0))throw new Error("Contra must be power of two, but ".concat(a," given."));if(a<1)throw new Error("Contra must be greater than 1, but ".concat(a," given."))}),te=function(e){var n=e.bidType,t=e.taker,r=e.partyScore,c=void 0===r?null:r,a=e.silent,o=void 0!==a&&a,i=e.bidVariant,u=void 0===i?null:i,l=e.winByTaker,s={bidType:n,bidVariant:u,contra:1,silent:o,winByTaker:void 0===l?null:l,taker:t,bidBaseScore:null!==c?ee()(R,N(c))(n):null};return ne(s),s},re=function(e){var n=e.winByTaker,t=e.bidBaseScore,r=e.contra,c=e.silent;return null===n||null===t?null:(n?1:-1)*t*(c?.5:r)};c.PARTY,c.DOUBLE_PARTY,c.VOLAT;!function(e){e.KLOPICZKY="KLOPICZKY",e.TOOK_THREE="TOOK_THREE",e.TOOK_TWO="TOOK_TWO",e.TOOK_ONE="TOOK_ONE",e.SOLO="SOLO"}(M||(M={}));var ce,ae=function(e){return null!==e&&[M.TOOK_THREE,M.TOOK_TWO,M.TOOK_ONE,M.SOLO].includes(e)},oe=(Y={},Object(f.a)(Y,M.TOOK_THREE,1),Object(f.a)(Y,M.TOOK_TWO,2),Object(f.a)(Y,M.TOOK_ONE,3),Object(f.a)(Y,M.SOLO,4),Object(f.a)(Y,M.KLOPICZKY,0),Y),ie=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{contracts:[],partyScoreType:n.partyScoreType||null,partyBaseScore:1,called_tarock:n.called_tarock||null,scores:(e={},Object(f.a)(e,S.DECLARER,null),Object(f.a)(e,S.OPPONENT,null),e)}},ue=function(e){var n=Oe(e);return Object(p.a)(Object(p.a)({},e),{},{scores:Object(p.a)({},n)})},le=function(e){return function(n){var t=void 0===e.partyScoreType?n.partyScoreType:e.partyScoreType,r=void 0===e.partyBaseScore?n.partyBaseScore:e.partyBaseScore,c=null===t?null:oe[t]*r,a=null===c?n.contracts:n.contracts.map(function(e){return function(n){return Object(p.a)(Object(p.a)({},n),{},{bidBaseScore:ee()(R,N(e))(n.bidType)})}}(c));return ue(Object(p.a)(Object(p.a)({},n),{},{contracts:Object(B.a)(a)},e))}},se=function(e){return function(n){var t=(null===e||void 0===e?void 0:e.partyScoreType)?oe[null===e||void 0===e?void 0:e.partyScoreType]:null,r=te(Object(p.a)(Object(p.a)({},n),{},{partyScore:t}));return ue(Object(p.a)(Object(p.a)({},e),{},{contracts:[].concat(Object(B.a)(e.contracts),[r])}))}},je=function(e){return Object(p.a)(Object(p.a)({},e),{},{contracts:[]})},Oe=function(e){var n;return e.contracts.reduce((function(e,n){var t,r=re(n);if(null===r)return e;var c=function(e,n){return null===e?n:null===n?e:n+e},a=n.taker,o=X(a);return Object(p.a)(Object(p.a)({},e),{},(t={},Object(f.a)(t,a,c(e[a],r)),Object(f.a)(t,o,c(e[o],null===r?null:-1*r)),t))}),(n={},Object(f.a)(n,S.DECLARER,null),Object(f.a)(n,S.OPPONENT,null),n))},be=t(422),de=t(362),fe=t(400),he=t(401),pe=t(402),ve=t(403),Te=t(404),Ee=t(405),ye=t(20),Ce=t(423),xe=t(397),ge=t(398),Se=t(420),me=t(399),Ae=function(e){var n=e.variants,t=e.selected,r=e.onChange,c=e.render,i=e.onClose,u=Object(o.useState)(!1),l=Object(h.a)(u,2),s=l[0],j=l[1],O=function(){j(!1),i&&i()};return Object(a.jsxs)(a.Fragment,{children:[c((function(){return j(!0)})),Object(a.jsxs)(Ce.a,{open:s,onClose:O,children:[Object(a.jsx)(xe.a,{children:Object(a.jsx)(ge.a,{name:"variants",onChange:function(e){r(e.target.value),O()},value:t,children:n.map((function(e){return Object(a.jsx)(K.a,{control:Object(a.jsx)(Se.a,{color:"default",value:e}),label:H(e)})}))})}),Object(a.jsx)(me.a,{children:Object(a.jsx)(k.a,{onClick:O,variant:"outlined",children:"Cancel"})})]})]})},Ie=t(363),Re=function(e){var n=e.bidType,t=e.onChange,r=e.value,c=e.label,o=R(n);return L(o)?Object(a.jsx)(Ie.a,{children:Object(a.jsx)(K.a,{control:Object(a.jsx)(w.a,{onChange:function(e){return t(e.target.checked)},checked:r,color:"default"}),label:c?"Silent":""})}):null},Le=function(e){var n=e.value,t=e.onChange,r=e.disabled,c=function(e){return t&&t(e)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{component:r?"s":"span",color:r?"textPrimary":"textSecondary",children:n}),Object(a.jsx)(de.a,{title:"Double",onClick:function(){return c(2*n)},disabled:r,children:Object(a.jsx)(ye.b,{})}),Object(a.jsx)(de.a,{title:"Divide by 2",onClick:function(){return n>1&&c(n/2)},disabled:1===n||r,children:Object(a.jsx)(ye.a,{})})]})},Ne=t(139),_e=t.n(Ne),Pe=function(e){var n=e.contract,t=e.onChange,r=R(n.bidType);return r.variants?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Ae,{variants:r.variants||[],selected:n.bidVariant,onChange:function(e){t(e)},render:function(e){var t;return Object(a.jsx)(k.a,{variant:"outlined",color:"default",onClick:e,size:"small",children:H(null!==(t=n.bidVariant)&&void 0!==t?t:"Select variant")})}})}):null};!function(e){e.DELETE="DELETE",e.CHANGE="CHANGE"}(ce||(ce={}));var ke=[{field:"bidType",headerName:"Bid",valueGetter:function(e){return H(e.bidType)}},{field:"bidVariant",headerName:"Variant",valueGetter:function(e,n){return Object(a.jsx)(Pe,{contract:e,onChange:function(e){return n&&n(ce.CHANGE,e)}})}},{field:"taker",headerName:"Taker",valueGetter:function(e,n){var t=X(e.taker),r=F(e.taker);return Object(a.jsx)(k.a,{color:r,onClick:function(){return n&&n(ce.CHANGE,t)},variant:"outlined",size:"small",children:e.taker})}},{field:"silent",headerName:"Silent",valueGetter:function(e,n){return Object(a.jsx)(Re,{bidType:e.bidType,onChange:function(e){return n&&n(ce.CHANGE,e)},value:e.silent})}},{field:"bidBaseScore",headerName:"Base Score"},{headerName:"Contra",field:"contra",valueGetter:function(e,n){return R(e.bidType).denyContra?null:Object(a.jsx)(Le,{onChange:function(e){return n&&n(ce.CHANGE,e)},value:e.contra,disabled:e.silent})}},{field:"winByTaker",headerName:"Win by the Taker?",valueGetter:function(e,n){var t=e.winByTaker,r=e.taker,c=!0===t?"Won by the Taker!":!1===t?"Lose by the Taker!":"Still unknown / Not count in final score...";return Object(a.jsx)(be.a,{title:c,checked:!0===t,indeterminate:null===t,onClick:function(){var e=null===t||!0!==t&&null;n&&n(ce.CHANGE,e)},color:r===S.DECLARER?"primary":"secondary"})}},{field:"takerScore",headerName:"Taker score",valueGetter:function(e){return Object(a.jsx)(O.a,{variant:"button",color:e.taker===S.DECLARER?"primary":"secondary",children:re(e)})}},{field:"actions",headerName:" ",valueGetter:function(e,n){return Object(a.jsx)(de.a,{title:"Remove",onClick:function(){return n&&n(ce.DELETE,null)},children:Object(a.jsx)(ye.c,{})})}}],Ke=function(e,n){return e in n},we=function(e){var n=e.contracts,t=e.onChange,r=e.onDelete;function c(e,n,c,a){if(c===ce.DELETE)return r(e);if(c===ce.CHANGE&&null!==n)return t(e,n,a);throw new Error("Invalid if ACTION_TYPE (".concat(c,") is CHANGE the field can not be null."))}return Object(a.jsx)(fe.a,{children:Object(a.jsxs)(he.a,{children:[Object(a.jsx)(pe.a,{children:Object(a.jsx)(ve.a,{children:ke.map((function(e,n){return Object(a.jsxs)(Te.a,{children:[" ",e.headerName," "]},n)}))})}),Object(a.jsx)(Ee.a,{children:n.map((function(e,n){return Object(a.jsx)(ve.a,{children:ke.map((function(t,r){return Object(a.jsx)(Te.a,{children:Ke(t.field,e)?t.valueGetter?t.valueGetter(e,_e()(c)(n)(t.field)):e[t.field]:t.valueGetter?t.valueGetter(e,_e()(c)(n)(null)):" "},r)}))},n)}))})]})})},De=t(406),Ue=t(407),Ge=t(418),He=t(425),Be=t(364),Ye=["_None_"].concat(Object(B.a)(Object.keys({XX:"XX",XIX:"XIX",XVIII:"XVIII",XVII:"XVII",XVI:"XVI",XV:"XV",XIV:"XIV",XIII:"XIII",XII:"XII"}))),Me=Object.keys(oe),Ve=function(e){var n=e.game,t=e.onChange;return Object(a.jsxs)(_.a,{container:!0,spacing:3,alignContent:"space-around",children:[Object(a.jsx)(_.a,{item:!0,children:Object(a.jsxs)(De.a,{component:"fieldset",children:[Object(a.jsx)(Ue.a,{id:"called-tarock-selector",children:"Called"}),Object(a.jsx)(Ge.a,{value:n.called_tarock||"_None_",onChange:function(e){t("called_tarock",e.target.value)},labelId:"called-tarock-selector",children:Ye.map((function(e){return Object(a.jsx)(He.a,{value:e,children:"_None_"===e?"None":e},e)}))})]})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsxs)(De.a,{component:"fieldset",children:[Object(a.jsx)(Be.a,{children:"Party Score"}),Object(a.jsx)(ge.a,{row:!0,value:n.partyScoreType,onChange:function(e){t("partyScoreType",e.target.value)},children:Me.map((function(e){return Object(a.jsx)(K.a,{value:e,control:Object(a.jsx)(Se.a,{color:"default"}),label:H(e)},e)}))})]})}),Object(a.jsxs)(_.a,{item:!0,children:[Object(a.jsx)(O.a,{variant:"caption",display:"block",color:"textSecondary",children:"Party Base Score"}),Object(a.jsx)(Le,{value:n.partyBaseScore,onChange:function(e){t("partyBaseScore",e)}})]})]})},Xe=t(191),Fe=t.n(Xe),Ze=t(426),We=t(410),ze=t(411),Je=t(427),qe=t(412),Qe=t(413),$e=t(192),en=t.n($e),nn=function(e){var n=e.player;return Object(a.jsx)(Ze.a,{children:n.name.length>0?Object(a.jsx)(a.Fragment,{children:n.name.slice(0,2)}):Object(a.jsx)(ye.f,{})})},tn=function(e){var n=e.player,t=e.onRemove,r=e.onChange,c=function(e){return function(t){r(V(Object(f.a)({},e,t))(n))}};return Object(a.jsx)(We.a,{children:Object(a.jsx)(ze.a,{children:Object(a.jsxs)(_.a,{container:!0,direction:"row",spacing:2,children:[Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(nn,{player:n})}),Object(a.jsxs)(_.a,{container:!0,item:!0,direction:"column",xs:!0,spacing:2,children:[Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(Je.a,{id:"".concat(n.id,"_name"),label:"Name",value:n.name,onChange:function(e){c("name")(e.target.value)}})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(Je.a,{id:"".concat(n.id,"_baseScore"),label:"Base Score",type:"number",value:n.baseScore,onChange:function(e){var n=e.target.value;c("baseScore")(n.length>0?Number(n):null)}})})]}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(de.a,{onClick:function(){return t(n)},children:Object(a.jsx)(ye.c,{})})})]})})})},rn=function(e){var n=e.player,t=e.onChange,r=F(n.type),c=null!==n.type,o=null!==n.currentScore,i=c&&o?" (".concat(n.currentScore,")"):"",u=null!==n.score?n.score+n.baseScore:n.baseScore,l=u>180;return Object(a.jsxs)(We.a,{children:[Object(a.jsx)(qe.a,{avatar:Object(a.jsx)(nn,{player:n}),title:n.name,subheader:Object(a.jsxs)("span",{children:[l&&Object(a.jsx)(en.a,{fontSize:"small",color:"action"}),"".concat(u).concat(i)]})}),Object(a.jsx)(Qe.a,{children:Object(a.jsx)(k.a,{variant:"outlined",color:r,onClick:function(){var e;t(V({type:(e=n.type,new Map([[S.DECLARER,S.OPPONENT],[S.OPPONENT,null],[null,S.DECLARER]]).get(e)||null)})(n))},children:n.type||"Not playing"})})]})},cn=function(e){var n=e.players,t=e.onPlayerListChange,r=e.onSaveScores,c=e.saveDisabled,i=e.onResetPlayers,u=e.onResetScores,l=Object(o.useState)(!1),s=Object(h.a)(l,2),j=s[0],O=s[1],b=function(e){t(function(e){return function(n){return n.filter((function(n){return n.id!==e.id}))}}(e)(n))},d=function(e){t(function(e){return function(n){return n.map((function(n){return n.id===e.id?e:n}))}}(e)(n))};return Object(a.jsxs)(_.a,{container:!0,spacing:1,children:[Object(a.jsxs)(_.a,{item:!0,container:!0,direction:"row",alignItems:"center",spacing:1,children:[Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(de.a,{onClick:function(){t([].concat(Object(B.a)(n),[{id:Object(U.a)(),name:"",baseScore:100,score:null,currentScore:null,type:null}]))},title:"Add new player",children:Object(a.jsx)(ye.g,{})})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(de.a,{onClick:function(){return O((function(e){return!e}))},title:j?"Finish editing":"Edit user properties",children:j?Object(a.jsx)(ye.d,{}):Object(a.jsx)(ye.e,{})})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(k.a,{variant:"outlined",disabled:c,onClick:r,children:"Save scores"})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(k.a,{variant:"outlined",onClick:i,children:"Reset Players"})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(k.a,{variant:"outlined",onClick:u,children:"Reset Scores"})})]}),n.map((function(e){return Object(a.jsx)(_.a,{item:!0,xs:!!j&&3,children:j?Object(a.jsx)(tn,{onChange:d,onRemove:b,player:e},e.id):Object(a.jsx)(rn,{player:e,onChange:d},e.id)})}))]})},an=t(193),on=t.n(an),un=t(105),ln=function(e){return function(n){return n.map((function(t){var r,c=function(e){return function(n){var t=Z(e),r=Object(h.a)(t,2),c=r[0],a=r[1],o=n.scores[S.OPPONENT],i=n.scores[S.DECLARER];return null===o||null===i?[null,null]:2===a&&2===c?[i,o]:3===a&&1===c?[3*i,o]:1===a&&3===c?[i,3*o]:[null,null]}}(n)(e),a=Object(h.a)(c,2),o=a[0],i=a[1],u=(r={},Object(f.a)(r,S.OPPONENT,i),Object(f.a)(r,S.DECLARER,o),r);return Object(p.a)(Object(p.a)({},t),{},{currentScore:null===t.type?null:u[t.type]})}))}},sn=function(e){return function(n){var t=Z(e),r=Object(un.isEqual)(t,[1,3])||Object(un.isEqual)(t,[2,2])||Object(un.isEqual)(t,[3,1]),c=null!==n.scores[S.DECLARER]&&null!==n.scores[S.OPPONENT];return r&&c}},jn=function(e){return Boolean(void 0!==e&&null!==e)},On=function(e,n){return(jn(e)?e:0)+(jn(n.currentScore)?n.currentScore:0)},bn=function(e){return e.reduce((function(e,n){return on()(On)(e,n)}),{})},dn=t(63),fn=t(64),hn=t(65),pn=t(195),vn=function(e){Object(fn.a)(t,e);var n=Object(hn.a)(t);function t(e,r){var c;return Object(dn.a)(this,t),(c=n.call(this,e)).userMessage=void 0,c.userMessage=void 0===r?"Ooops. Someting went wrong!":r,c}return t}(Object(pn.a)(Error)),Tn="tarockSheetState",En=function(e){Object(fn.a)(t,e);var n=Object(hn.a)(t);function t(e){var r;return Object(dn.a)(this,t),(r=n.call(this,e,"Saving is not supported!")).name="NotSupportedStorageError",r}return t}(vn),yn=function(e){Object(fn.a)(t,e);var n=Object(hn.a)(t);function t(e){var r;return Object(dn.a)(this,t),(r=n.call(this,e,"Not able to save or load your changes! It is an application error!")).name="WrongDataStorageError",r}return t}(vn),Cn=function(e){Object(fn.a)(t,e);var n=Object(hn.a)(t);function t(e){var r;return Object(dn.a)(this,t),(r=n.call(this,e,"Not able to save your changes! Maybe the storage is full.")).name="UnsuccessfulSavingStorageError",r}return t}(vn),xn=function(){var e=Object.keys(c).map((function(e){return R(e)}));return T()((function(e){return e.group||"OTHERS"}),e)}(),gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,n=function(){return Boolean(window.localStorage)},t=function(){if(!n())throw new En},r=window.localStorage,c=function(e){try{return JSON.stringify(e)}catch(n){throw new yn(n.message)}},a=function(e){try{return JSON.parse(e)}catch(n){throw new yn(n.message)}},o=function(n){return"".concat(e,"_").concat(n)},i=function(e,n){t();try{r.setItem(o(e),c(n))}catch(a){if(a instanceof yn)throw a;throw new Cn(a.message)}},u=function(e){t(),r.removeItem(e)},l=function(e){t();var n=r.getItem(o(e));return null===n?null:a(n)};return{isSupported:n,create:i,update:i,delete:u,read:l}}(),Sn=function(){var e,n,t,r=Object(o.useState)(null!==(e=gn.read("game"))&&void 0!==e?e:ie()),i=Object(h.a)(r,2),u=i[0],l=i[1],s=Object(o.useState)(null!==(n=gn.read("players"))&&void 0!==n?n:[]),j=Object(h.a)(s,2),O=j[0],b=j[1],d=Object(o.useState)(null!==(t=gn.read("gameScoreList"))&&void 0!==t?t:[]),v=Object(h.a)(d,2),T=v[0],E=v[1];Object(o.useEffect)((function(){b(ln(u))}),[u]),Object(o.useEffect)((function(){if(gn.isSupported())try{gn.update("game",u),gn.update("players",O),gn.update("gameScoreList",T)}catch(e){console.error(e)}}),[u,O,T]);var y=function(e){ee()(ln(u),b)(e)},C=function(e){ee()(bn,function(e){return function(n){return e.map((function(e){return void 0===n[e.id]?e:V({score:n[e.id]})(e)}))}}(O),W,y)(e),E(e),l(ie())},x=null!==u.partyScoreType;return Object(a.jsxs)(_.a,{container:!0,spacing:3,direction:"column",children:[Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(cn,{players:O,onPlayerListChange:function(e){y(e)},onSaveScores:function(){var e=ee()(J,q,Fe()(T))(O);C(e)},saveDisabled:!sn(O)(u),onResetPlayers:function(){l(ie()),C([]),y([])},onResetScores:function(){C([]),ee()(z,W,y)(O)}})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsxs)(_.a,{item:!0,container:!0,spacing:1,direction:"row",children:[Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(Ve,{game:u,onChange:function(e,n){l((function(t){var r="partyScoreType"===e,a=t.partyScoreType===M.KLOPICZKY&&ae(n),o=ae(t.partyScoreType)&&n===M.KLOPICZKY,i=null===t.partyScoreType&&n===M.KLOPICZKY,l=ae(n)&&0===t.contracts.length;if(r&&(a||o||i||l)){var s=ae(n)?te({bidType:c.PARTY,taker:S.DECLARER}):te({bidType:c.KLOPICZKY,taker:S.DECLARER,winByTaker:!0});return ee()(je,function(e){return function(n){return se(n)(e)}}(s),le(Object(f.a)({},e,n)))(u)}return le(Object(f.a)({},e,n))(u)}))}})}),Object(a.jsx)(_.a,{item:!0,children:Object(a.jsx)(k.a,{variant:"outlined",onClick:function(){return l(ie())},children:"Reset Game"})})]})}),Object(a.jsx)(_.a,{item:!0,children:x&&Object(a.jsx)(Q,{bidsByGroup:xn,onAddContract:function(e){return l(ee()(te,se(u))(e))}},null===u.partyScoreType?1:0)}),Object(a.jsx)(_.a,{item:!0,children:x&&Object(a.jsx)(we,{contracts:null===u||void 0===u?void 0:u.contracts,onChange:function(e,n,t){var r;l(ee()((r=Object(f.a)({},n,t),function(e){var n=Object(p.a)(Object(p.a)({},e),r);return ne(n),n}),function(e){return function(n){return function(t){return ue(Object(p.a)(Object(p.a)({},e),{},{contracts:e.contracts.map((function(e,r){return r===n?Object(p.a)({},t):e}))}))}}}(u)(e))(u.contracts[e]))},onDelete:function(e){return l(function(e){return function(n){return ue(Object(p.a)(Object(p.a)({},e),{},{contracts:e.contracts.filter((function(e,t){return t!==n}))}))}}(u)(e))}})})]})},mn=Object(s.a)((function(e){return{container:{padding:e.spacing(4)}}}));var An=function(){var e=mn();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j.a,{position:"static",children:Object(a.jsxs)(O.a,{variant:"h2",children:[Object(a.jsx)(d.a,{color:"red"})," Tarock Sheet"]})}),Object(a.jsx)(b.a,{className:e.container,children:Object(a.jsx)(Sn,{})})]})},In=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,430)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};l.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(An,{})}),document.getElementById("root")),In()}},[[359,1,2]]]);
//# sourceMappingURL=main.51178abe.chunk.js.map