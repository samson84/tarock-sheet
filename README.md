# TODO
- [.] MVP
  - [x] Calculate score
    - [x] contract: change winner to win by taker: boolean | null
    - [x] ContractsTable: Add the winner column.
    - [x] ContractsTable: Can change the winner.
    - [x] contract: add calculate
    - [ ] game: add caclulate
      - [x] contract: add validInFinalScore
      - [x] TarockSheet: modify only the game type
      - [x] game: add party type, if modified update the score
        - [x] game: add partyType
      - [x] game: add contract validation rules
      - [x] game: add opponent and declater scores
    - [x] ContractsTable: Add final score column
    - [x] ContractsTable: Make visible the invalid contracts
    - [x] Tarock Sheet: show final score
  - [ ] correct party like calculation, if it is negative counts, if it is positive only the largrest counts
  - [.] Add player handling
    - [x] TarockSheet: new component, add available players
    - [x] Add players to the table
    - [x] Remove players from the table
    - [x] Change the player's player type
    - [x] show the scores near the players
- [ ] Milesteone 1
  - [ ] compact Contract Table
    - [ ] collapse fields
    - [ ] comapct view
    - [ ] row styling based on validInFinalScore
  - [ ] handle multiple games, score sheet
  - [ ] responsive design check
  - [ ] add undo & redo (?)
  - [ ] usability
    - [ ] group the bids
    - [x] ContractTable: when a contract silent, show visually that the contra does not take into account.
    - [x] ContractTable: if a contract is silent, it should not able to apply a contra on it, 
    - [ ] Game Properties: show score near the game score selector radio buttons
    - [ ] BidSelector: show the score near the bids
    - [ ] ContractsTable: show the the contra names instead of the values
    - [ ] ContractsTable: integrate bid variant into the bid column
    - [ ] add confirmation to new game
    - [ ] disable contra for eight, nine tarock
    - [ ] ContractsTable: automatically won by the eight and nine tarock
    - [ ] when something is added with silent automatically win except ulti
    - [ ] make a global silent switch, it adds bids silently, and automatically win
    - [ ] create defaults for the vatiants
    - [ ] shortcuts
      - [ ] when klopitzky ticked, add klopiczky contract, and make it winner
      - [ ] when party game ticked add party automatically
      - [x] remove reset game, use the new game button for the purpose
  - [ ] refactor
    - [ ] add current final score to game object
    - [ ] use one function to update the game score but in the game model, when something is changed
    - [ ] game, contract: simplify create and update methods with same parameter set
    - [ ] BidSelector: Refactor Modal to Dialog
    - [ ] refactor can silent, do not leak bids details to contract layer
      - [ ] Add canSilent method to contract too.
      - [ ] refactor ContractsTable to use the new can silent contracts.      
    - [ ] rename BidSelector to ContractSelector
    - [ ] rename TarockSheet to Game component
    - [ ] rename game props to camelCase, party_score, called_tarock
  - [ ] deploy the app to github pages + set up pipline
- [ ] Milestone 2
  - [ ] save the games locally
- [ ] Milestone 3
  - [ ] do some authentication / login
  - [ ] save the game to a DB e.g. Firebase
  - [ ] deploy the app to heroku / netlify / vercel
- [ ] create a better app icon
- [ ] align the icon in the app bar
- [ ] split bidselector to smaller components
- [ ] split ContractsTable to smaller components
- [x] Done
  - [x] ContractsTable, actions
    - [x] can change the silent property
    - [x] can change the variant
    - [x] can change the taker
    - [x] can change contra
      - [x] Add contra decrease, in the same field as the contra score
    - [x] can remove
  - [x] ContractsTable
    - [x] Refactor the design extract Row instead of factory object to make or use an onAction callback
    - [x] Correct the typing on ColumnDefinition, field should not relate to the Contract
  - [x] remove bid from contract, only save the bid type for it
  - [x] TarockSheet: Add game properties
  - [x] Refactor score handling
    - [x] game: add a default party score (TOOK_THREE) when creating
    - [x] contract: add an obligatory bid base score
    - [x] game: recalulate the contracts base bid score if the party score changes
    - [x] ContractsTable, use the base bid score in table
